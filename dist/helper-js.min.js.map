{"version":3,"file":"helper-js.min.js","sources":["../src/index.js"],"sourcesContent":["// local store\nexport const store = {}\n// is 各种判断\nexport function isset (v) {\n  return typeof v !== 'undefined'\n}\nexport function isArray (v) {\n  return Object.prototype.toString.call(v) === '[object Array]'\n}\nexport function isBool (v) {\n  return Object.prototype.toString.call(v) === '[object Boolean]'\n}\nexport function isNumber (v) {\n  return Object.prototype.toString.call(v) === '[object Number]'\n}\nexport function isNumeric (v) {\n  return isFinite(v)\n}\nexport function isString (v) {\n  return Object.prototype.toString.call(v) === '[object String]'\n}\nexport function isObject (v) {\n  return Object.prototype.toString.call(v) === '[object Object]'\n}\nexport function isFunction (v) {\n  return typeof v === 'function'\n}\nexport function isPromise (v) {\n  return Object.prototype.toString.call(v) === '[object Promise]'\n}\nexport function empty(v) {\n  if (v == null) {\n    return true\n  } else if (v.length != null) {\n    return v.length === 0\n  } else if (isBool(v)) {\n    return false\n  } else if (isNumber(v)) {\n    return isNaN(v)\n  } else if (isObject(v)) {\n    return Object.keys(v).length === 0\n  }\n}\n// num\nexport function numRand (min, max) {\n  if (arguments.length === 1) {\n    max = min\n    min = 0\n  }\n  return Math.floor(Math.random() * (max - min + 1) + min)\n}\nexport function numPad (num, n) {\n  let len = num.toString().length\n  while (len < n) {\n    num = '0' + num\n    len++\n  }\n  return num\n}\nexport function min (n, min) {\n  return n < min ? min : n\n}\n\nexport function max (n, max) {\n  return n < max ? n : max\n}\n\n// str 字符\nexport function studlyCase (str) {\n  return str && (str[0].toUpperCase() + str.substr(1))\n}\n\nexport function kebabCase(str) {\n  return str\n    .replace(/ /g, '-')\n    .replace(/_/g, '-')\n    .replace(/([A-Z])/g, '-$1')\n    .replace(/--+/g, '-')\n    .replace(/^-|-$|/g, '')\n    .toLowerCase()\n}\n\nexport function snakeCase (str) {\n  return kebabCase(str).replace(/-/g, '_')\n}\n\nexport function camelCase (str) {\n  const temp = str.toString().split(/[-_]/)\n  for (let i = 1; i < temp.length; i++) {\n    temp[i] = studlyCase(temp[i])\n  }\n  return temp.join('')\n}\nexport function camelToWords (str) {\n  return str.toString().trim().split(/(?=[A-Z])/)\n}\nexport function titleCase (str) {\n  return camelToWords(studlyCase(camelCase(str))).join(' ').replace(/\\bid\\b/ig, 'ID')\n}\nexport function strRand (len = 8, prefix = '') {\n  let r = ''\n  const seeds = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'\n  for (let i = 0; i < len; i++) {\n    r += seeds[numRand(seeds.length - 1)]\n  }\n  return prefix + r\n}\nexport function replaceMultiple(mapObj, str) {\n  const reg = new RegExp(Object.keys(mapObj).join('|'), 'g')\n  return str.replace(reg, function (matchedKey) {\n    return mapObj[matchedKey]\n  })\n}\n// array\nexport function arrayRemove(arr, v) {\n  let index\n  let count = 0\n  while ((index = arr.indexOf(v)) > -1) {\n    arr.splice(index, 1)\n    count++\n  }\n  return count\n}\nexport function arrayFirst(arr) {\n  return arr[0]\n}\nexport function arrayLast(arr) {\n  return arr[arr.length - 1]\n}\nexport function arrayDiff(arr1, arr2) {\n  var len = arr1.length\n  var arr = []\n  while (len--) {\n    if (arr2.indexOf(arr1[len]) < 0) {\n      arr.push(arr1[len])\n    }\n  }\n  return arr\n}\nexport function toArrayIfNot(arrOrNot) {\n  return isArray(arrOrNot) ? arrOrNot : [arrOrNot]\n}\n\n// object\nexport function assignIfDifferent(obj, key, val) {\n  if (obj[key] !== val) {\n    obj[key] = val\n  }\n}\nexport function objectMerge(o1, o2) {\n  for (const k in o2) {\n    if (!o1.hasOwnProperty(k)) {\n      o1[k] = o2[k]\n    } else if (isObject(o1[k]) && isObject(o2[k])) {\n      Object.assign(o1[k], o2[k])\n    } else {\n      o1[k] = o2[k]\n    }\n  }\n  return o1\n}\nexport function objectMap(obj, func) {\n  const r = {}\n  for (const key in obj) {\n    r[key] = func(obj[key], key, obj)\n  }\n  return r\n}\nexport function objectOnly(obj, keys) {\n  const r = {}\n  for (const key in obj) {\n    if (keys.indexOf(key) > -1) {\n      r[key] = obj[key]\n    }\n  }\n  return r\n}\nexport function objectExcept(obj, keys) {\n  const r = {}\n  for (const key in obj) {\n    if (keys.indexOf(key) === -1) {\n      r[key] = obj[key]\n    }\n  }\n  return r\n}\n// source: http://stackoverflow.com/questions/8817394/javascript-get-deep-value-from-object-by-passing-path-to-it-as-string\nexport function objectGet(obj, path, defaultValue = null) {\n  const paths = path.split('.')\n  let current = obj\n  let parent = null\n\n  for (let i = 0; i < paths.length; i++) {\n    if (current[paths[i]] == null) {\n      return defaultValue\n    } else {\n      parent = current\n      current = current[paths[i]]\n    }\n  }\n\n  const lastPath = arrayLast(paths)\n  return parent.hasOwnProperty(lastPath) ? current : defaultValue\n}\n\nexport function objectSet(obj, path, value) {\n  const lastDotIndex = path.lastIndexOf('.')\n  let parent, lastKey\n  if (lastDotIndex === -1) {\n    parent = obj\n    lastKey = path\n  } else {\n    parent = objectGet(obj, path.substring(0, lastDotIndex))\n    lastKey = path.substr(lastDotIndex + 1)\n  }\n  parent[lastKey] = value\n}\n\nexport function unset(obj, prop) {\n  obj[prop] = undefined\n  try {\n    delete obj[prop]\n  } catch (e) {}\n}\n\n// exclude: array or function\nexport function cloneObj(obj, exclude) {\n  const type = typeof(obj)\n  switch (type) {\n    case 'undefined':\n    case 'boolean':\n    case 'nuber':\n    case 'string':\n    case 'function':\n        return obj\n      break;\n    case 'object':\n        if (obj === null) {\n          // null is object\n          return obj\n        }\n        let r\n        if (isArray(obj)) {\n          r = []\n          for (const item of obj) {\n            r.push(cloneObj(item, exclude))\n          }\n        } else {\n          r = {}\n          for (const key of Object.keys(obj)) {\n            if (!exclude || (isArray(exclude) && !exclude.includes(key)) || !exclude(key, obj[key], obj)) {\n              r[key] = cloneObj(obj[key], exclude)\n            }\n          }\n        }\n        return r\n      break;\n    default:\n        return obj\n      break;\n  }\n}\n// return cloned obj\n// handler(value, key, parent)\n// handler can return follow:\n//  null: don't change anything\n//  {key: false}: delete\n//  {value}: change value\n//  {key, value}. change key and value\n// limit: to prevent circular reference.\nexport function mapObjectTree(obj, handler, limit=10000) {\n  let r\n  let count = 0\n  const stack = [{value: obj}]\n  while (stack.length > 0) {\n    if (count >= limit) {\n      throw `mapObjectTree: limit(${limit}) reached, object may has circular reference`\n    }\n    count++\n    const {value, key, parent, newParent} = stack.shift()\n    const t = handler(value, key, parent)\n    const assign = (value, key, canPush) => {\n      if (isArray(value)) {\n        value = []\n      } else if (isObject(value)) {\n        value = {}\n      }\n      if (parent) {\n        if (isArray(newParent) && canPush) {\n          newParent.push(value)\n        } else {\n          newParent[key] = value\n        }\n      } else {\n        r = value\n      }\n      // value may changed\n      return value\n    }\n    let newVal, val\n    if (!t) {\n      // no change\n      val = value\n      newVal = assign(value, key)\n    } else {\n      const {key: key2, value} = t\n      val = value\n      if (key2 === false) {\n        // del\n        continue\n      } else if (key2 == null) {\n        // don't change key\n        newVal = assign(value, key, true)\n      } else {\n        newVal = assign(value, key2)\n      }\n    }\n\n    if (isArray(val)) {\n      const len = val.length\n      for (let i = 0; i < len; i++) {\n        stack.push({value: val[i], key: i, parent: val, newParent: newVal})\n      }\n    } else if (isObject(val)) {\n      Object.keys(val).forEach(key => {\n        stack.push({value: val[key], key, parent: val, newParent: newVal})\n      })\n    }\n  }\n  return r\n}\n// arr, idKey/getId\nexport function mapObjects(arr, idKey) {\n  const r = {}\n  const len = arr.length\n  for (let i = 0; i < len; i++) {\n    const item = arr[i]\n    const id = isFunction(idKey) ? idKey(item, i) : item[idKey]\n    r[id] = item\n  }\n  return r\n}\n\n// function\nexport function executeWithCount(func, context) {\n  let count = 0\n  return (...args) => {\n    args.unshift(count++)\n    return func.apply(context, args)\n  }\n}\nexport function watchChange(getVal, handler) {\n  let oldVal\n  const update = (...args) => {\n    const newVal = getVal(...args)\n    if (oldVal !== newVal) {\n      handler(newVal, ...args)\n    }\n    oldVal = newVal\n  }\n  return update\n}\n// url\n/* eslint-disable */\nexport function getUrlParam(par) {\n    // 获取当前URL\n  var local_url = document.location.href\n    // 获取要取得的get参数位置\n  var get = local_url.indexOf(par + '=')\n  if (get == -1) {\n    return false\n  }\n    // 截取字符串\n  var get_par = local_url.slice(par.length + get + 1)\n    // 判断截取后的字符串是否还有其他get参数\n  var nextPar = get_par.indexOf('&')\n  if (nextPar != -1) {\n    get_par = get_par.slice(0, nextPar)\n  }\n  return get_par\n}\n/* eslint-enable */\n// dom\nexport function uniqueId (prefix = 'id_') {\n  const id = prefix + strRand()\n  if (!store.uniqueId) store.uniqueId = {}\n  const generatedIds = store.uniqueId\n  if (document.getElementById(id) || generatedIds[id]) {\n    return uniqueId(prefix)\n  } else {\n    generatedIds[id] = true\n    return id\n  }\n}\nexport function isDescendantOf (el, parent) {\n  while (true) {\n    if (el.parentElement == null) {\n      return false\n    } else if (el.parentElement === parent) {\n      return true\n    } else {\n      el = el.parentElement\n    }\n  }\n}\n\nexport function getOffsetWithoutScroll(el) {\n  var elOffset = {\n    x: el.offsetLeft,\n    y: el.offsetTop\n  }\n  var parentOffset = {x: 0, y: 0}\n  if (el.offsetParent != null) parentOffset = getOffsetWithoutScroll(el.offsetParent)\n  return {\n    x: elOffset.x + parentOffset.x,\n    y: elOffset.y + parentOffset.y\n  }\n}\n\nexport function getOffset(el) {\n  const offfset = getOffsetWithoutScroll(el)\n  let el2 = el\n  const body = document.body\n  while (el2 && el2 !== body) {\n    offfset.x -= el2.scrollLeft\n    offfset.y -= el2.scrollTop\n    el2 = el2.parentElement\n  }\n  return offfset\n}\n\nexport function findParent(el, callback) {\n  return doFindParent(el, callback)\n  function doFindParent(el, callback) {\n    if (el.parentElement) {\n      if (callback(el.parentElement)) {\n        return el.parentElement\n      } else {\n        return doFindParent(el.parentElement, callback)\n      }\n    }\n  }\n}\nexport function backupAttr(el, name) {\n  const key = `original_${name}`\n  el[key] = el.getAttribute(name)\n}\n\nexport function restoreAttr(el, name) {\n  const key = `original_${name}`\n  el.setAttribute(name, el[key])\n}\n\n// source: http://youmightnotneedjquery.com/\nexport function hasClass(el, className) {\n  if (el.classList) {\n    return el.classList.contains(className)\n  } else {\n    return new RegExp('(^| )' + className + '( |$)', 'gi').test(el.className)\n  }\n}\n\n// source: http://youmightnotneedjquery.com/\nexport function addClass(el, className) {\n  if (!hasClass(el, className)) {\n    if (el.classList)\n    { el.classList.add(className) }\n    else\n    { el.className += ' ' + className }\n  }\n}\n// source: http://youmightnotneedjquery.com/\nexport function removeClass(el, className) {\n  if (el.classList)\n  { el.classList.remove(className) }\n  else\n  { el.className = el.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ') }\n}\nexport function getElSize(el) {\n  const originDisplay = el.style.display\n  el.style.display = 'block'\n  const size = {\n    width: el.offsetWidth,\n    height: el.offsetHeight\n  }\n  el.style.display = originDisplay\n  return size\n}\n/**\n * [isOffsetInEl]\n * @param {Number} x\n * @param {Number} y\n * @param {Object} el HTML Element\n */\nexport function isOffsetInEl(x, y, el) {\n  const offset = getOffset(el)\n  return offset.x <= x && offset.x + el.offsetWidth >= x && offset.y <= y && offset.y + el.offsetHeight >= y\n}\n// get border\nexport function getBorder(el) {\n  const body = document.body\n  const workArea = findParent(el, v => hasClass(v, 'work-area'))\n  const of = getOffset(workArea)\n  return {\n    left: of.x,\n    right: of.x + workArea.offsetWidth,\n    top: of.y + 50,\n    bottom: body.offsetHeight < global.innerHeight ? global.innerHeight : body.offsetHeight\n  }\n}\nexport function setElChildByIndex(el, index, child) {\n  child.childComponentIndex = index\n  const len = el.childNodes.length\n  if (len === 0) {\n    el.appendChild(child)\n  } else if (index === 0) {\n    el.insertBefore(child, el.childNodes[0])\n  } else {\n    const {index: nearestIndex, value: nearest, bigger} = binarySearch(el.childNodes, el => {\n      return el.childComponentIndex - index\n    }, 0, max(index, len - 1), true)\n    if (bigger) {\n      el.insertBefore(child, nearest)\n    } else {\n      const next = el.childNodes[nearestIndex + 1]\n      if (next) {\n        el.insertBefore(child, next)\n      } else {\n        el.appendChild(child)\n      }\n    }\n  }\n}\n// dom event\nexport function onDOM(el, name, handler) {\n  if (el.addEventListener) { // 所有主流浏览器，除了 IE 8 及更早 IE版本\n    el.addEventListener(name, handler)\n  } else if (el.attachEvent) { // IE 8 及更早 IE 版本\n    el.attachEvent(`on${name}`, handler)\n  }\n}\nexport function offDOM(el, name, handler) {\n  if (el.removeEventListener) { // 所有主流浏览器，除了 IE 8 及更早 IE版本\n    el.removeEventListener(name, handler)\n  } else if (el.detachEvent) { // IE 8 及更早 IE 版本\n    el.detachEvent(`on${name}`, handler)\n  }\n}\n// advance\n// binarySearch 二分查找\nexport function binarySearch(arr, callback, start, end, returnNearestIfNoHit, max = 1000) {\n  var midNum\n  var mid\n  if (start == null) {\n    start = 0\n    end = arr.length - 1\n  }\n  var i = 0\n  let r\n  while (start >= 0 && start <= end) {\n    if (i >= max) {\n      throw Error(`binarySearch: loop times is over ${max}, you can increase the limit.`)\n    }\n    midNum = Math.floor((end - start) / 2 + start)\n    mid = arr[midNum]\n    r = callback(mid, i)\n    if (r > 0) {\n      end = midNum - 1\n    } else if (r < 0) {\n      start = midNum + 1\n    } else {\n      return { index: midNum, value: mid, count: i + 1, hit: true }\n    }\n    i++\n  }\n  return returnNearestIfNoHit ? { index: midNum, value: mid, count: i + 1, hit: false, bigger: r > 0 } : null\n}\n//\nexport function windowLoaded() {\n  return new Promise(function(resolve, reject) {\n    if (document && document.readyState === 'complete') {\n      resolve()\n    } else {\n      global.addEventListener('load', function once() {\n        resolve()\n        global.removeEventListener('load', once)\n      })\n    }\n  })\n}\n// overload waitFor(condition, time = 100, maxCount = 1000))\nexport function waitFor(name, condition, time = 100, maxCount = 1000) {\n  if (isFunction(name)) {\n    maxCount = time\n    time = isNumeric(condition) ? condition : 100\n    condition = name\n    name = null\n  }\n  if (!store.waitFor) store.waitFor = {}\n  const waits = store.waitFor\n  if (name && isset(waits[name])) {\n    global.clearInterval(waits[name])\n    delete waits[name]\n  }\n  return new Promise(function(resolve, reject) {\n    let count = 0\n    function judge(interval) {\n      if (count <= maxCount) {\n        if (condition()) {\n          stop(interval, name)\n          resolve()\n        }\n      } else {\n        stop(interval, name)\n        reject(new Error('waitFor: Limit is reached'))\n      }\n      count++\n    }\n    function stop(interval, name) {\n      if (interval) {\n        if (name && isset(waits[name])) {\n          global.clearInterval(waits[name])\n          delete waits[name]\n        } else {\n          global.clearInterval(interval)\n        }\n      }\n    }\n    const interval = global.setInterval(function () {\n      judge(interval)\n    }, time)\n    if (name) {\n      waits[name] = interval\n    }\n    judge()\n  })\n}\n\nexport function retry(func, limitTimes = 3) {\n  if (!store.retry) store.retry = {}\n  const counters = retry\n  const name = generateName()\n  counters[name] = 0\n  return doFunc\n  function doFunc(arg1, arg2, arg3) {\n    return func(arg1, arg2, arg3).then((data) => {\n      delete counters[name]\n      return data\n    }).catch((e) => {\n      counters[name]++\n      if (counters[name] >= limitTimes) {\n        delete counters[name]\n        return Promise.reject(e)\n      } else {\n        return doFunc(arg1, arg2, arg3)\n      }\n    })\n  }\n  function generateName() {\n    const name = Math.random() + ''\n    if (counters[name]) {\n      return generateName()\n    } else {\n      return name\n    }\n  }\n}\n// 复制文字到剪贴板\nexport function copyTextToClipboard(text) {\n  var textArea = document.createElement('textarea')\n\n  //\n  // *** This styling is an extra step which is likely not required. ***\n  //\n  // Why is it here? To ensure:\n  // 1. the element is able to have focus and selection.\n  // 2. if element was to flash render it has minimal visual impact.\n  // 3. less flakyness with selection and copying which **might** occur if\n  //    the textarea element is not visible.\n  //\n  // The likelihood is the element won't even render, not even a flash,\n  // so some of these are just precautions. However in IE the element\n  // is visible whilst the popup box asking the user for permission for\n  // the web page to copy to the clipboard.\n  //\n\n  // Place in top-left corner of screen regardless of scroll position.\n  textArea.style.position = 'fixed'\n  textArea.style.top = 0\n  textArea.style.left = 0\n\n  // Ensure it has a small width and height. Setting to 1px / 1em\n  // doesn't work as this gives a negative w/h on some browsers.\n  textArea.style.width = '2em'\n  textArea.style.height = '2em'\n\n  // We don't need padding, reducing the size if it does flash render.\n  textArea.style.padding = 0\n\n  // Clean up any borders.\n  textArea.style.border = 'none'\n  textArea.style.outline = 'none'\n  textArea.style.boxShadow = 'none'\n\n  // Avoid flash of white box if rendered for any reason.\n  textArea.style.background = 'transparent'\n\n  textArea.value = text\n\n  document.body.appendChild(textArea)\n\n  textArea.select()\n\n  try {\n    var successful = document.execCommand('copy')\n    var msg = successful ? 'successful' : 'unsuccessful'\n    console.log('Copying text command was ' + msg)\n  } catch (err) {\n    console.log('Oops, unable to copy')\n  }\n\n  document.body.removeChild(textArea)\n}\n\n// jquery\nexport function jqFixedSize(sel) {\n  const $ = global.jQuery\n  $(sel).each(function () {\n    const t = $(this)\n    t.css({\n      width: t.width() + 'px',\n      height: t.height() + 'px',\n    })\n  })\n}\nexport function jqMakeCarousel(wrapperSel, listSel, itemSel, speed = 1000, space = 16, dir = 'left', top = 0) {\n  if (space.toString().match(/^\\d+$/)) {\n    space = space + 'px'\n  }\n  const spaceNumber = parseFloat(space)\n  const $ = global.jQuery\n  const wrapper = $(wrapperSel)\n  const list = wrapper.find(listSel)\n  wrapper.css({\n    position: 'relative',\n    height: wrapper.height() + 'px',\n  })\n  const items0 = list.find(itemSel)\n  items0.css({\n    margin: '0',\n    marginRight: space\n  })\n  const width = (Math.ceil(items0.width()) + spaceNumber) * items0.length\n  list.css({\n    position: 'absolute',\n    margin: '0',\n    width: width + 'px',\n  })\n  const height = list.height()\n  const list2 = list.clone()\n  const list3 = list.clone()\n  list.css({\n    left: 0,\n  })\n  list2.css({\n    left: width + 'px',\n  })\n  list3.css({\n    left: width * 2 + 'px',\n  })\n  const lists = $('<div></div>')\n  lists.css({\n    position: 'absolute',\n    width: width * 3 + 'px',\n    height: height + 'px',\n    left: 0,\n    top,\n  })\n  lists.append(list).append(list2).append(list3)\n  wrapper.append(lists)\n  let left = 0\n  function animateLoop() {\n    if (dir === 'left') {\n      left -= 100\n    } else {\n      left += 100\n    }\n    lists.animate({\n      left: `${left}px`,\n    }, speed, 'linear', () => {\n      if (Math.abs(left) > width) {\n        if (dir === 'left') {\n          left += width\n        } else {\n          left -= width\n        }\n        lists.css({\n          left: left + 'px'\n        })\n      }\n      animateLoop()\n    })\n  }\n  animateLoop()\n}\n// https://developer.mozilla.org/docs/Web/API/Window/open\n// http://www.w3school.com.cn/htmldom/met_win_open.asp#windowfeatures\nexport function openWindow(url, name, opt = {})\n{\n  global.open(url, name, Object.keys(opt).map(k => `${k}=${opt[k]}`).join(','));\n}\n\nexport function openCenterWindow(url, name, width, height, opt = {})\n{\n  const t = {\n    width,\n    height,\n    top: (global.screen.availHeight-30-height) / 2,\n    left: (global.screen.availWidth-30-width) / 2,\n  }\n  Object.assign(t, opt)\n  openWindow(url, name, t)\n}\nexport class URLHelper {\n  baseUrl = ''; // protocol, hostname, port, pastname\n  search = {};\n  constructor(baseUrl) {\n    let t = decodeURI(baseUrl).split('?')\n    this.baseUrl = t[0]\n    if (t[1]) {\n      t[1].split('&').forEach(v => {\n        let t2 = v.split('=')\n        this.search[t2[0]] = t2[1] == null ? '' : decodeURIComponent(t2[1])\n      })\n    }\n  }\n  getHref() {\n    const t = [this.baseUrl]\n    let searchStr = Object.keys(this.search).map(k => `${k}=${encodeURIComponent(this.search[k])}`).join('&')\n    if (searchStr) {\n      t.push(searchStr)\n    }\n    return t.join('?')\n  }\n}\n\n// 解析函数参数, 帮助重载\n// types eg: ['Object', (i) => i > 3, ['Number', default] ]\nexport function resolveArgsByType(args, types) {\n  let argIndex = 0\n  return types.map(v => {\n    // make rule\n    let rule, dft\n    if (isArray(v)) {\n      rule = v[0]\n      dft = v[1]\n    } else {\n      rule = v\n      dft = undefined\n    }\n    if (!isFunction(rule)) {\n      if (rule == null) {\n        rule = () => true\n      } else {\n        const t = rule\n        rule = x => Object.prototype.toString.call(x) === `[object ${t}]`\n      }\n    }\n    const arg = args[argIndex]\n    if (rule(arg)) {\n      argIndex++\n      return arg\n    } else {\n      return dft\n    }\n  })\n}\n\n// set null can remove a item\nexport function makeStorageHelper(storage) {\n  return {\n    storage,\n    set(name, value, minutes) {\n      if (value == null) {\n        this.storage.removeItem(name)\n      } else {\n        this.storage.setItem(name, JSON.stringify({\n          value,\n          expired_at: minutes && new Date().getTime() / 1000 + minutes * 60,\n        }))\n      }\n    },\n    get(name) {\n      let t = this.storage.getItem(name)\n      if (t) {\n        t = JSON.parse(t)\n        if (!t.expired_at || t.expired_at > new Date().getTime()) {\n          return t.value\n        } else {\n          this.storage.removeItem(name)\n        }\n      }\n      return null\n    },\n    clear() {\n      this.storage.clear()\n    },\n  }\n}\nexport const localStorage2 = makeStorageHelper(global.localStorage)\nexport const sessionStorage2 = makeStorageHelper(global.sessionStorage)\n\n// 事件处理\nexport class EventProcessor {\n  eventStore = [];\n  on(name, handler) {\n    this.eventStore.push({ name, handler })\n  }\n  once(name, handler) {\n    const off = () => {\n      this.off(name, wrappedHandler)\n    }\n    const wrappedHandler = () => {\n      handler()\n      off()\n    }\n    this.on(name, wrappedHandler)\n    return off\n  }\n  off(name, handler) {\n    const indexes = [] // to remove indexes; reverse; 倒序的\n    const len = this.eventStore.length\n    for (let i = 0; i < len; i++) {\n      const item = this.eventStore[i]\n      if (item.name === name && item.handler === handler) {\n        indexes.unshift(i)\n      }\n    }\n    for (const index of indexes) {\n      this.eventStore.splice(index, 1)\n    }\n  }\n  emit(name, ...args) {\n    // 重要: 先找到要执行的项放在新数组里, 因为执行项会改变事件项存储数组\n    const items = []\n    for (const item of this.eventStore) {\n      if (item.name === name) {\n        items.push(item)\n      }\n    }\n    for (const item of items) {\n      item.handler(...args)\n    }\n  }\n}\n\nexport class CrossWindow extends EventProcessor{\n  storageName = '_crossWindow';\n  constructor() {\n     super()\n     const cls = CrossWindow\n     if (!cls._listen) {\n       cls._listen = true\n       onDOM(window, 'storage', (ev) => {\n         if (ev.key === this.storageName) {\n           const event = JSON.parse(ev.newValue)\n           super.emit(event.name, ...event.args)\n         }\n       })\n     }\n  }\n  emit(name, ...args) {\n     super.emit(name, ...args)\n     global.localStorage.setItem(this.storageName, JSON.stringify({\n       name,\n       args,\n       // use random make storage event triggered every time\n       // 加入随机保证触发storage事件\n       random: Math.random(),\n     }))\n  }\n}\n"],"names":["store","isset","v","isArray","Object","prototype","toString","call","isBool","isNumber","isNumeric","isFinite","isObject","isFunction","numRand","min","max","arguments","length","Math","floor","random","n","studlyCase","str","toUpperCase","substr","kebabCase","replace","toLowerCase","camelCase","temp","split","i","join","camelToWords","trim","strRand","len","prefix","r","seeds","arrayLast","arr","objectGet","obj","path","defaultValue","paths","current","parent","lastPath","hasOwnProperty","getOffsetWithoutScroll","el","elOffset","offsetLeft","offsetTop","parentOffset","offsetParent","x","y","getOffset","offfset","el2","body","document","scrollLeft","scrollTop","parentElement","findParent","callback","doFindParent","hasClass","className","classList","contains","RegExp","test","onDOM","name","handler","addEventListener","attachEvent","binarySearch","start","end","returnNearestIfNoHit","midNum","mid","Error","openWindow","url","opt","open","keys","map","k","URLHelper","baseUrl","t","decodeURI","forEach","t2","search","decodeURIComponent","this","searchStr","encodeURIComponent","_this2","push","makeStorageHelper","storage","value","minutes","removeItem","setItem","JSON","stringify","Date","getTime","getItem","parse","expired_at","clear","localStorage2","global","localStorage","sessionStorage2","sessionStorage","EventProcessor","eventStore","off","wrappedHandler","on","indexes","item","unshift","index","splice","items","args","CrossWindow","cls","_listen","window","ev","key","_this4","storageName","event","newValue","isNaN","num","mapObj","reg","matchedKey","count","indexOf","arr1","arr2","arrOrNot","val","o1","o2","assign","func","lastKey","lastDotIndex","lastIndexOf","substring","prop","undefined","e","cloneObj","exclude","includes","limit","stack","shift","newParent","canPush","newVal","key2","idKey","context","apply","getVal","oldVal","par","local_url","location","href","get","get_par","slice","nextPar","uniqueId","id","generatedIds","getElementById","getAttribute","setAttribute","add","remove","originDisplay","style","display","size","offsetWidth","offsetHeight","offset","workArea","of","innerHeight","child","childComponentIndex","childNodes","appendChild","insertBefore","nearestIndex","nearest","bigger","next","removeEventListener","detachEvent","Promise","resolve","reject","readyState","once","condition","time","maxCount","waitFor","waits","clearInterval","judge","interval","stop","setInterval","retry","limitTimes","counters","generateName","doFunc","arg1","arg2","arg3","then","data","catch","text","textArea","createElement","position","top","left","width","height","padding","border","outline","boxShadow","background","select","msg","execCommand","log","err","removeChild","sel","$","jQuery","each","css","wrapperSel","listSel","itemSel","speed","space","dir","match","spaceNumber","parseFloat","wrapper","list","find","items0","ceil","list2","clone","list3","lists","append","animateLoop","animate","abs","screen","availHeight","availWidth","types","argIndex","rule","dft","arg"],"mappings":";;;;;06CACaA,KAEN,SAASC,EAAOC,eACD,IAANA,EAET,SAASC,EAASD,SACsB,mBAAtCE,OAAOC,UAAUC,SAASC,KAAKL,GAEjC,SAASM,EAAQN,SACuB,qBAAtCE,OAAOC,UAAUC,SAASC,KAAKL,GAEjC,SAASO,EAAUP,SACqB,oBAAtCE,OAAOC,UAAUC,SAASC,KAAKL,GAEjC,SAASQ,EAAWR,UAClBS,SAAST,GAKX,SAASU,EAAUV,SACqB,oBAAtCE,OAAOC,UAAUC,SAASC,KAAKL,GAEjC,SAASW,EAAYX,SACN,mBAANA,EAmBT,SAASY,EAASC,EAAKC,UACH,IAArBC,UAAUC,WACNH,IACA,GAEDI,KAAKC,MAAMD,KAAKE,UAAYL,EAAMD,EAAM,GAAKA,GAc/C,SAASC,EAAKM,EAAGN,UACfM,EAAIN,EAAMM,EAAIN,EAIhB,SAASO,EAAYC,UACnBA,GAAQA,EAAI,GAAGC,cAAgBD,EAAIE,OAAO,GAG5C,SAASC,EAAUH,UACjBA,EACJI,QAAQ,KAAM,KACdA,QAAQ,KAAM,KACdA,QAAQ,WAAY,OACpBA,QAAQ,OAAQ,KAChBA,QAAQ,UAAW,IACnBC,cAOE,SAASC,EAAWN,WACnBO,EAAOP,EAAIlB,WAAW0B,MAAM,QACzBC,EAAI,EAAGA,EAAIF,EAAKb,OAAQe,MAC1BA,GAAKV,EAAWQ,EAAKE,WAErBF,EAAKG,KAAK,IAEZ,SAASC,EAAcX,UACrBA,EAAIlB,WAAW8B,OAAOJ,MAAM,aAK9B,SAASK,YAASC,yDAAM,EAAGC,yDAAS,GACrCC,EAAI,GACFC,EAAQ,iEACLR,EAAI,EAAGA,EAAIK,EAAKL,OAClBQ,EAAM3B,EAAQ2B,EAAMvB,OAAS,WAE7BqB,EAASC,EAqBX,SAASE,EAAUC,UACjBA,EAAIA,EAAIzB,OAAS,GA4DnB,SAAS0B,EAAUC,EAAKC,WAAMC,yDAAe,KAC5CC,EAAQF,EAAKd,MAAM,KACrBiB,EAAUJ,EACVK,EAAS,KAEJjB,EAAI,EAAGA,EAAIe,EAAM9B,OAAQe,IAAK,IACZ,MAArBgB,EAAQD,EAAMf,WACTc,IAEEE,IACCA,EAAQD,EAAMf,QAItBkB,EAAWT,EAAUM,UACpBE,EAAOE,eAAeD,GAAYF,EAAUF,EA4M9C,SAASM,EAAuBC,OACjCC,EACCD,EAAGE,WADJD,EAECD,EAAGG,UAEJC,KAAmB,IAAM,UACN,MAAnBJ,EAAGK,eAAsBD,EAAeL,EAAuBC,EAAGK,kBAEjEJ,EAAaG,EAAaE,IAC1BL,EAAaG,EAAaG,GAI1B,SAASC,EAAUR,WAClBS,EAAUV,EAAuBC,GACnCU,EAAMV,EACJW,EAAOC,SAASD,KACfD,GAAOA,IAAQC,KACZL,GAAKI,EAAIG,aACTN,GAAKG,EAAII,YACXJ,EAAIK,qBAELN,EAGF,SAASO,EAAWhB,EAAIiB,mBAEpBC,EAAalB,EAAIiB,MACpBjB,EAAGe,qBACDE,EAASjB,EAAGe,eACPf,EAAGe,cAEHG,EAAalB,EAAGe,cAAeE,GANrCC,CAAalB,EAAIiB,GAsBnB,SAASE,EAASnB,EAAIoB,UACvBpB,EAAGqB,UACErB,EAAGqB,UAAUC,SAASF,GAEtB,IAAIG,OAAO,QAAUH,EAAY,QAAS,MAAMI,KAAKxB,EAAGoB,WA4E5D,SAASK,EAAMzB,EAAI0B,EAAMC,GAC1B3B,EAAG4B,mBACFA,iBAAiBF,EAAMC,GACjB3B,EAAG6B,eACTA,wBAAiBH,GAAQC,GAYzB,SAASG,EAAazC,EAAK4B,EAAUc,EAAOC,EAAKC,OAClDC,EACAC,EAFwEzE,yDAAM,IAGrE,MAATqE,MACM,IACF1C,EAAIzB,OAAS,WAGjBsB,EADAP,EAAI,EAEDoD,GAAS,GAAKA,GAASC,GAAK,IAC7BrD,GAAKjB,QACD0E,iDAA0C1E,0CAI9CuD,IADE5B,IADGxB,KAAKC,OAAOkE,EAAMD,GAAS,EAAIA,IAEtBpD,IACV,IACAuD,EAAS,MACV,CAAA,KAAIhD,EAAI,gBAGGgD,QAAeC,QAAYxD,EAAI,OAAQ,KAF/CuD,EAAS,aAMdD,SAAgCC,QAAeC,QAAYxD,EAAI,OAAQ,SAAeO,EAAI,GAAM,KAwOlG,SAASmD,EAAWC,EAAKZ,OAAMa,mEAE7BC,KAAKF,EAAKZ,EAAM5E,OAAO2F,KAAKF,GAAKG,IAAI,4BAAQC,cAAKJ,EAAII,MAAM/D,KAAK,UAc7DgE,EAAb,sBAGcC,8GAFF,mGAGJC,EAAIC,UAAUF,GAASnE,MAAM,UAC5BmE,QAAUC,EAAE,GACbA,EAAE,MACF,GAAGpE,MAAM,KAAKsE,QAAQ,gBAClBC,EAAKrG,EAAE8B,MAAM,OACZwE,OAAOD,EAAG,IAAe,MAATA,EAAG,GAAa,GAAKE,mBAAmBF,EAAG,6DAK9DH,GAAKM,KAAKP,SACZQ,EAAYvG,OAAO2F,KAAKW,KAAKF,QAAQR,IAAI,4BAAQC,cAAKW,mBAAmBC,EAAKL,OAAOP,OAAO/D,KAAK,YACjGyE,KACAG,KAAKH,GAEFP,EAAElE,KAAK,WAnBlB,GAwDO,SAAS6E,EAAkBC,iCAG1BhC,EAAMiC,EAAOC,GACF,MAATD,OACGD,QAAQG,WAAWnC,QAEnBgC,QAAQI,QAAQpC,EAAMqC,KAAKC,8BAElBJ,IAAW,IAAIK,MAAOC,UAAY,IAAiB,GAAVN,mBAIvDlC,OACEoB,EAAIM,KAAKM,QAAQS,QAAQzC,MACzBoB,EAAG,QACDiB,KAAKK,MAAMtB,IACRuB,YAAcvB,EAAEuB,YAAa,IAAIJ,MAAOC,iBACtCpB,EAAEa,WAEJD,QAAQG,WAAWnC,UAGrB,4BAGFgC,QAAQY,cAINC,EAAgBd,EAAkBe,OAAOC,cACzCC,EAAkBjB,EAAkBe,OAAOG,gBAG3CC,EAAb,qKAEKlD,EAAMC,QACFkD,WAAWrB,sDAEb9B,EAAMC,cACHmD,EAAM,aACLA,IAAIpD,EAAMqD,IAEXA,EAAiB,gCAIlBC,GAAGtD,EAAMqD,GACPD,8BAELpD,EAAMC,WACFsD,KACAjG,EAAMoE,KAAKyB,WAAWjH,OACnBe,EAAI,EAAGA,EAAIK,EAAKL,IAAK,KACtBuG,EAAO9B,KAAKyB,WAAWlG,GACzBuG,EAAKxD,OAASA,GAAQwD,EAAKvD,UAAYA,KACjCwD,QAAQxG,iBAGAsG,aAAS,KAAlBG,EAASH,UACbJ,WAAWQ,OAAOD,EAAO,iCAG7B1D,OAEG4D,wCACalC,KAAKyB,0DAAY,KAAzBK,UACLA,EAAKxD,OAASA,KACV8B,KAAK0B,iHALHK,qEAQOD,aAAO,KAAfJ,EAAQI,OACZ3D,gBAAW4D,UAtCtB,GA2CaC,EAAb,yPACgB,qBAGLC,EAAMD,SACPC,EAAIC,YACHA,SAAU,IACRC,OAAQ,UAAW,SAACC,MACpBA,EAAGC,MAAQC,EAAKC,YAAa,OACzBC,EAAQjC,KAAKK,MAAMwB,EAAGK,uGACjBD,EAAMtE,eAASsE,EAAMT,kUAVVX,mCAe1BlD,gCAAS6D,uJACA7D,UAAS6D,WACbd,aAAaX,QAAQV,KAAK2C,YAAahC,KAAKC,gCAKzCnG,KAAKE,kBAtBpB,oFA16BO,SAAmBnB,SACqB,oBAAtCE,OAAOC,UAAUC,SAASC,KAAKL,4CAQjC,SAAoBA,SACoB,qBAAtCE,OAAOC,UAAUC,SAASC,KAAKL,YAEjC,SAAeA,UACX,MAALA,IAEmB,MAAZA,EAAEgB,OACS,IAAbhB,EAAEgB,QACAV,EAAON,KAEPO,EAASP,GACXsJ,MAAMtJ,GACJU,EAASV,GACe,IAA1BE,OAAO2F,KAAK7F,GAAGgB,YADjB,0BAYF,SAAiBuI,EAAKnI,WACvBgB,EAAMmH,EAAInJ,WAAWY,OAClBoB,EAAMhB,KACL,IAAMmI,aAGPA,SAEF,SAAcnI,EAAGP,UACfO,EAAIP,EAAMA,EAAMO,oDAsBlB,SAAoBE,UAClBG,EAAUH,GAAKI,QAAQ,KAAM,iDAa/B,SAAoBJ,UAClBW,EAAaZ,EAAWO,EAAUN,KAAOU,KAAK,KAAKN,QAAQ,WAAY,qCAUzE,SAAyB8H,EAAQlI,OAChCmI,EAAM,IAAI9E,OAAOzE,OAAO2F,KAAK2D,GAAQxH,KAAK,KAAM,YAC/CV,EAAII,QAAQ+H,EAAK,SAAUC,UACzBF,EAAOE,oBAIX,SAAqBjH,EAAKzC,WAC3BwI,EACAmB,EAAQ,GACJnB,EAAQ/F,EAAImH,QAAQ5J,KAAO,KAC7ByI,OAAOD,EAAO,cAGbmB,gBAEF,SAAoBlH,UAClBA,EAAI,8BAKN,SAAmBoH,EAAMC,WAC1B1H,EAAMyH,EAAK7I,OACXyB,KACGL,KACD0H,EAAKF,QAAQC,EAAKzH,IAAQ,KACxBwE,KAAKiD,EAAKzH,WAGXK,kBAEF,SAAsBsH,UACpB9J,EAAQ8J,GAAYA,GAAYA,wBAIlC,SAA2BpH,EAAKsG,EAAKe,GACtCrH,EAAIsG,KAASe,MACXf,GAAOe,kBAGR,SAAqBC,EAAIC,OACzB,IAAMnE,KAAKmE,EACTD,EAAG/G,eAAe6C,IAEZrF,EAASuJ,EAAGlE,KAAOrF,EAASwJ,EAAGnE,WACjCoE,OAAOF,EAAGlE,GAAImE,EAAGnE,MAFrBA,GAAKmE,EAAGnE,UAORkE,eAEF,SAAmBtH,EAAKyH,OACvB9H,SACD,IAAM2G,KAAOtG,IACdsG,GAAOmB,EAAKzH,EAAIsG,GAAMA,EAAKtG,UAExBL,gBAEF,SAAoBK,EAAKkD,OACxBvD,SACD,IAAM2G,KAAOtG,EACZkD,EAAK+D,QAAQX,IAAQ,MACrBA,GAAOtG,EAAIsG,WAGV3G,kBAEF,SAAsBK,EAAKkD,OAC1BvD,SACD,IAAM2G,KAAOtG,GACW,IAAvBkD,EAAK+D,QAAQX,OACbA,GAAOtG,EAAIsG,WAGV3G,6BAqBF,SAAmBK,EAAKC,EAAMmE,OAE/B/D,EAAQqH,EADNC,EAAe1H,EAAK2H,YAAY,MAEhB,IAAlBD,KACO3H,IACCC,MAEDF,EAAUC,EAAKC,EAAK4H,UAAU,EAAGF,MAChC1H,EAAKpB,OAAO8I,EAAe,MAEhCD,GAAWtD,WAGb,SAAepE,EAAK8H,KACrBA,QAAQC,aAEH/H,EAAI8H,GACX,MAAOE,iBAIJ,SAASC,EAASjI,EAAKkI,YACRlI,QAEb,gBACA,cACA,YACA,aACA,kBACMA,MAEN,YACW,OAARA,SAEKA,MAELL,KACArC,EAAQ0C,GAAM,6CAEGA,iDAAK,KAAb2F,YACP1B,KAAKgE,EAAStC,EAAMuC,4FAEnB,gBAEa3K,OAAO2F,KAAKlD,sBAAM,KAAzBsG,OACJ4B,KAAY5K,EAAQ4K,IAAaA,EAAQC,SAAS7B,KAAU4B,EAAQ5B,EAAKtG,EAAIsG,GAAMtG,OACpFsG,GAAO2B,EAASjI,EAAIsG,GAAM4B,YAI3BvI,iBAGAK,oBAYR,SAAuBA,EAAKoC,WAC7BzC,EADsCyI,yDAAM,IAE5CpB,EAAQ,EACNqB,UAAiBrI,oBAEjBgH,GAASoB,sCACmBA,4DAGQC,EAAMC,QAAvClE,IAAAA,MAAOkC,IAAAA,IAAKjG,IAAAA,OAAQkI,IAAAA,UACrBhF,EAAInB,EAAQgC,EAAOkC,EAAKjG,GACxBmH,EAAS,SAACpD,EAAOkC,EAAKkC,UACtBlL,EAAQ8G,QAEDrG,EAASqG,WAGhB/D,EACE/C,EAAQiL,IAAcC,IACdvE,KAAKG,KAELkC,GAAOlC,IAGfA,EAGCA,GAELqE,SAAQpB,YACP9D,EAIE,KACOmF,EAAenF,EAApB+C,IAAWlC,EAASb,EAATa,WACZA,GACO,IAATsE,qBAGe,MAARA,EAEAlB,EAAOpD,EAAOkC,GAAK,GAEnBkB,EAAOpD,EAAOsE,UAZnBtE,IACGoD,EAAOpD,EAAOkC,MAerBhJ,EAAQ+J,WACJ5H,EAAM4H,EAAIhJ,OACPe,EAAI,EAAGA,EAAIK,EAAKL,MACjB6E,YAAaoD,EAAIjI,OAASA,SAAWiI,YAAgBoB,SAEpD1K,EAASsJ,WACXnE,KAAKmE,GAAK5D,QAAQ,cACjBQ,YAAaoD,EAAIf,gBAAmBe,YAAgBoB,OAnDzDJ,EAAMhK,OAAS,cAuDfsB,gBAGF,SAAoBG,EAAK6I,WACxBhJ,KACAF,EAAMK,EAAIzB,OACPe,EAAI,EAAGA,EAAIK,EAAKL,IAAK,KACtBuG,EAAO7F,EAAIV,KACNpB,EAAW2K,GAASA,EAAMhD,EAAMvG,GAAKuG,EAAKgD,IAC7ChD,SAEHhG,sBAIF,SAA0B8H,EAAMmB,OACjC5B,EAAQ,SACL,sCAAIhB,sDACJJ,QAAQoB,KACNS,EAAKoB,MAAMD,EAAS5C,mBAGxB,SAAqB8C,EAAQ1G,OAC9B2G,SACW,sCAAI/C,iDACXyC,EAASK,eAAU9C,GACrB+C,IAAWN,mBACLA,UAAWzC,MAEZyC,kBAMN,SAAqBO,OAEtBC,EAAY5H,SAAS6H,SAASC,KAE9BC,EAAMH,EAAUhC,QAAQ+B,EAAM,SACtB,GAARI,SACK,MAGLC,EAAUJ,EAAUK,MAAMN,EAAI3K,OAAS+K,EAAM,GAE7CG,EAAUF,EAAQpC,QAAQ,YACd,GAAZsC,MACQF,EAAQC,MAAM,EAAGC,IAEtBF,cAIF,SAASG,QAAU9J,yDAAS,MAC3B+J,EAAK/J,EAASF,IACfrC,EAAMqM,WAAUrM,EAAMqM,iBACrBE,EAAevM,EAAMqM,gBACvBnI,SAASsI,eAAeF,IAAOC,EAAaD,GACvCD,EAAS9J,MAEH+J,IAAM,EACZA,qBAGJ,SAAyBhJ,EAAIJ,UACrB,IACa,MAApBI,EAAGe,qBACE,EACF,GAAIf,EAAGe,gBAAkBnB,SACvB,IAEFI,EAAGe,qFA0CP,SAAoBf,EAAI0B,wBACLA,IACd1B,EAAGmJ,aAAazH,kBAGrB,SAAqB1B,EAAI0B,OACxBmE,qBAAkBnE,KACrB0H,aAAa1H,EAAM1B,EAAG6F,6BAapB,SAAkB7F,EAAIoB,GACtBD,EAASnB,EAAIoB,KACZpB,EAAGqB,YACFA,UAAUgI,IAAIjI,KAEdA,WAAa,IAAMA,kBAIrB,SAAqBpB,EAAIoB,GAC1BpB,EAAGqB,YACFA,UAAUiI,OAAOlI,KAEjBA,UAAYpB,EAAGoB,UAAU9C,QAAQ,IAAIiD,OAAO,UAAYH,EAAU1C,MAAM,KAAKE,KAAK,KAAO,UAAW,MAAO,kBAE3G,SAAmBoB,OAClBuJ,EAAgBvJ,EAAGwJ,MAAMC,UAC5BD,MAAMC,QAAU,YACbC,SACG1J,EAAG2J,mBACF3J,EAAG4J,uBAEVJ,MAAMC,QAAUF,EACZG,kBAQF,SAAsBpJ,EAAGC,EAAGP,OAC3B6J,EAASrJ,EAAUR,UAClB6J,EAAOvJ,GAAKA,GAAKuJ,EAAOvJ,EAAIN,EAAG2J,aAAerJ,GAAKuJ,EAAOtJ,GAAKA,GAAKsJ,EAAOtJ,EAAIP,EAAG4J,cAAgBrJ,eAGpG,SAAmBP,OAClBW,EAAOC,SAASD,KAChBmJ,EAAW9I,EAAWhB,EAAI,mBAAKmB,EAASvE,EAAG,eAC3CmN,EAAKvJ,EAAUsJ,eAEbC,EAAGzJ,QACFyJ,EAAGzJ,EAAIwJ,EAASH,gBAClBI,EAAGxJ,EAAI,UACJI,EAAKiJ,aAAepF,OAAOwF,YAAcxF,OAAOwF,YAAcrJ,EAAKiJ,mCAGxE,SAA2B5J,EAAIoF,EAAO6E,KACrCC,oBAAsB9E,MACtBpG,EAAMgB,EAAGmK,WAAWvM,UACd,IAARoB,IACCoL,YAAYH,QACV,GAAc,IAAV7E,IACNiF,aAAaJ,EAAOjK,EAAGmK,WAAW,QAChC,OACiDrI,EAAa9B,EAAGmK,WAAY,mBACzEnK,EAAGkK,oBAAsB9E,GAC/B,EAAG1H,EAAI0H,EAAOpG,EAAM,IAAI,GAFbsL,IAAPlF,MAA4BmF,IAAP5G,WAAgB6G,SAIvCH,aAAaJ,EAAOM,OAClB,KACCE,EAAOzK,EAAGmK,WAAWG,EAAe,GACtCG,IACCJ,aAAaJ,EAAOQ,KAEpBL,YAAYH,yBAahB,SAAgBjK,EAAI0B,EAAMC,GAC3B3B,EAAG0K,sBACFA,oBAAoBhJ,EAAMC,GACpB3B,EAAG2K,eACTA,wBAAiBjJ,GAAQC,oCAiCzB,kBACE,IAAIiJ,QAAQ,SAASC,EAASC,GAC/BlK,UAAoC,aAAxBA,SAASmK,sBAGhBnJ,iBAAiB,OAAQ,SAASoJ,eAEhCN,oBAAoB,OAAQM,kBAMpC,SAAiBtJ,EAAMuJ,OAAWC,yDAAO,IAAKC,yDAAW,IAC1D5N,EAAWmE,OACFwJ,IACJ9N,EAAU6N,GAAaA,EAAY,MAC9BvJ,IACL,MAEJhF,EAAM0O,UAAS1O,EAAM0O,gBACpBC,EAAQ3O,EAAM0O,eAChB1J,GAAQ/E,EAAM0O,EAAM3J,aACf4J,cAAcD,EAAM3J,WACpB2J,EAAM3J,IAER,IAAIkJ,QAAQ,SAASC,EAASC,OAC/BvE,EAAQ,WACHgF,EAAMC,GACTjF,GAAS4E,EACPF,QACGO,EAAU9J,WAIZ8J,EAAU9J,KACR,IAAIU,MAAM,4CAIZqJ,EAAKD,EAAU9J,GAClB8J,IACE9J,GAAQ/E,EAAM0O,EAAM3J,YACf4J,cAAcD,EAAM3J,WACpB2J,EAAM3J,WAEN4J,cAAcE,QAIrBA,EAAWhH,OAAOkH,YAAY,aAC5BF,IACLN,GACCxJ,MACIA,GAAQ8J,kBAMb,SAASG,EAAM3E,OAAM4E,yDAAa,EAClClP,EAAMiP,QAAOjP,EAAMiP,cAClBE,EAAWF,EACXjK,WAiBGoK,QACDpK,EAAO7D,KAAKE,SAAW,UACzB8N,EAASnK,GACJoK,IAEApK,EAtBEoK,YACJpK,GAAQ,WAERqK,EAAOC,EAAMC,EAAMC,UACnBlF,EAAKgF,EAAMC,EAAMC,GAAMC,KAAK,SAACC,iBAC3BP,EAASnK,GACT0K,IACNC,MAAM,SAAC9E,YACC7F,KACLmK,EAASnK,IAASkK,UACbC,EAASnK,GACTkJ,QAAQE,OAAOvD,IAEfwE,EAAOC,EAAMC,EAAMC,6BAc3B,SAA6BI,OAC9BC,EAAW3L,SAAS4L,cAAc,cAkB7BhD,MAAMiD,SAAW,UACjBjD,MAAMkD,IAAM,IACZlD,MAAMmD,KAAO,IAIbnD,MAAMoD,MAAQ,QACdpD,MAAMqD,OAAS,QAGfrD,MAAMsD,QAAU,IAGhBtD,MAAMuD,OAAS,SACfvD,MAAMwD,QAAU,SAChBxD,MAAMyD,UAAY,SAGlBzD,MAAM0D,WAAa,gBAEnBvJ,MAAQ2I,WAER3L,KAAKyJ,YAAYmC,KAEjBY,iBAIHC,EADaxM,SAASyM,YAAY,QACf,aAAe,uBAC9BC,IAAI,4BAA8BF,GAC1C,MAAOG,WACCD,IAAI,iCAGL3M,KAAK6M,YAAYjB,kBAIrB,SAAqBkB,OACpBC,EAAIlJ,OAAOmJ,SACfF,GAAKG,KAAK,eACJ9K,EAAI4K,EAAEtK,QACVyK,WACO/K,EAAE8J,QAAU,YACX9J,EAAE+J,SAAW,2BAIpB,SAAwBiB,EAAYC,EAASC,OAASC,yDAAQ,IAAMC,yDAAQ,GAAIC,yDAAM,OAAQzB,yDAAM,EACrGwB,EAAMlR,WAAWoR,MAAM,cACT,UAEZC,EAAcC,WAAWJ,GACzBR,EAAIlJ,OAAOmJ,OACXY,EAAUb,EAAEI,GACZU,EAAOD,EAAQE,KAAKV,KAClBF,cACI,kBACFU,EAAQ1B,SAAW,WAEvB6B,EAASF,EAAKC,KAAKT,KAClBH,YACG,gBACKK,QAETtB,GAAS/O,KAAK8Q,KAAKD,EAAO9B,SAAWyB,GAAeK,EAAO9Q,SAC5DiQ,cACO,kBACF,UACDjB,EAAQ,WAEXC,EAAS2B,EAAK3B,SACd+B,EAAQJ,EAAKK,QACbC,EAAQN,EAAKK,UACdhB,UACG,MAEFA,UACEjB,EAAQ,SAEViB,UACU,EAARjB,EAAY,WAEdmC,EAAQrB,EAAE,iBACVG,cACM,iBACK,EAARjB,EAAY,YACXC,EAAS,UACX,YAGFmC,OAAOR,GAAMQ,OAAOJ,GAAOI,OAAOF,KAChCE,OAAOD,OACXpC,EAAO,YACFsC,IACK,SAARd,KACM,OAEA,MAEJe,wBACKvC,SACRsB,EAAO,SAAU,WACdpQ,KAAKsR,IAAIxC,GAAQC,IACP,SAARuB,KACMvB,KAEAA,IAEJiB,UACElB,EAAO,oDAehB,SAA0BrK,EAAKZ,EAAMkL,EAAOC,OAAQtK,4DAEnDO,yBAGE0B,OAAO4K,OAAOC,YAAY,GAAGxC,GAAU,QACtCrI,OAAO4K,OAAOE,WAAW,GAAG1C,GAAS,UAEvC7F,OAAOjE,EAAGP,KACND,EAAKZ,EAAMoB,sCA2BjB,SAA2ByC,EAAMgK,OAClCC,EAAW,SACRD,EAAM7M,IAAI,gBAEX+M,EAAMC,KACN7S,EAAQD,MACHA,EAAE,KACHA,EAAE,OAEDA,SACD0K,IAEH/J,EAAWkS,MACF,MAARA,IACK,kBAAM,OACR,KACC3M,EAAI2M,IACH,mBAAK3S,OAAOC,UAAUC,SAASC,KAAKqD,uBAAkBwC,YAG3D6M,EAAMpK,EAAKiK,UACbC,EAAKE,QAEAA,GAEAD"}