{"version":3,"file":"helper-js.min.js","sources":["../node_modules/regenerator-runtime/runtime.js","../src/index.js"],"sourcesContent":["/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","// local store\r\nexport const store = {}\r\n// get global\r\n// `this` !== global or window because of build tool\r\nexport function glb() {\r\n  if (store.glb) {\r\n    return store.glb\r\n  } else {\r\n    // resolve global\r\n    let t\r\n    try {\r\n      t = global\r\n    } catch (e) {\r\n      t = window\r\n    }\r\n    store.glb = t\r\n    return t\r\n  }\r\n}\r\n// is 各种判断\r\nexport function isset (v) {\r\n  return typeof v !== 'undefined'\r\n}\r\nexport function isArray (v) {\r\n  return Object.prototype.toString.call(v) === '[object Array]'\r\n}\r\nexport function isBool (v) {\r\n  return Object.prototype.toString.call(v) === '[object Boolean]'\r\n}\r\nexport function isNumber (v) {\r\n  return Object.prototype.toString.call(v) === '[object Number]'\r\n}\r\nexport function isNumeric (v) {\r\n  return isFinite(v) && !isNaN(parseFloat(v))\r\n}\r\nexport function isString (v) {\r\n  return Object.prototype.toString.call(v) === '[object String]'\r\n}\r\nexport function isObject (v) {\r\n  return Object.prototype.toString.call(v) === '[object Object]'\r\n}\r\nexport function isFunction (v) {\r\n  return typeof v === 'function'\r\n}\r\nexport function isPromise (v) {\r\n  return Object.prototype.toString.call(v) === '[object Promise]'\r\n}\r\nexport function empty(v) {\r\n  if (v == null) {\r\n    return true\r\n  } else if (v.length != null) {\r\n    return v.length === 0\r\n  } else if (isBool(v)) {\r\n    return false\r\n  } else if (isNumber(v)) {\r\n    return isNaN(v)\r\n  } else if (isObject(v)) {\r\n    return Object.keys(v).length === 0\r\n  }\r\n}\r\n// num\r\nexport function numRand (min, max) {\r\n  if (arguments.length === 1) {\r\n    max = min\r\n    min = 0\r\n  }\r\n  return Math.floor(Math.random() * (max - min + 1) + min)\r\n}\r\nexport function numPad (num, n) {\r\n  let len = num.toString().length\r\n  while (len < n) {\r\n    num = '0' + num\r\n    len++\r\n  }\r\n  return num\r\n}\r\nexport function min (n, min) {\r\n  return n < min ? min : n\r\n}\r\n\r\nexport function max (n, max) {\r\n  return n < max ? n : max\r\n}\r\n\r\n// str 字符\r\nexport function studlyCase (str) {\r\n  return str && (str[0].toUpperCase() + str.substr(1))\r\n}\r\n\r\nexport function kebabCase(str) {\r\n  return str\r\n    .replace(/ /g, '-')\r\n    .replace(/_/g, '-')\r\n    .replace(/([A-Z])/g, '-$1')\r\n    .replace(/--+/g, '-')\r\n    .replace(/^-|-$|/g, '')\r\n    .toLowerCase()\r\n}\r\n\r\nexport function snakeCase (str) {\r\n  return kebabCase(str).replace(/-/g, '_')\r\n}\r\n\r\nexport function camelCase (str) {\r\n  const temp = str.toString().split(/[-_]/)\r\n  for (let i = 1; i < temp.length; i++) {\r\n    temp[i] = studlyCase(temp[i])\r\n  }\r\n  return temp.join('')\r\n}\r\nexport function camelToWords (str) {\r\n  return str.toString().trim().split(/(?=[A-Z])/)\r\n}\r\nexport function titleCase (str) {\r\n  return camelToWords(studlyCase(camelCase(str))).join(' ').replace(/\\bid\\b/ig, 'ID')\r\n}\r\nexport function strRand (len = 8, prefix = '') {\r\n  let r = ''\r\n  const seeds = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'\r\n  for (let i = 0; i < len; i++) {\r\n    r += seeds[numRand(seeds.length - 1)]\r\n  }\r\n  return prefix + r\r\n}\r\nexport function replaceMultiple(mapObj, str) {\r\n  const reg = new RegExp(Object.keys(mapObj).join('|'), 'g')\r\n  return str.replace(reg, function (matchedKey) {\r\n    return mapObj[matchedKey]\r\n  })\r\n}\r\n// array\r\nexport function arrayRemove(arr, v) {\r\n  let index\r\n  let count = 0\r\n  while ((index = arr.indexOf(v)) > -1) {\r\n    arr.splice(index, 1)\r\n    count++\r\n  }\r\n  return count\r\n}\r\nexport function arrayRemoveBySortedIndexes(arr, sortedIndexes) {\r\n  for (let i = sortedIndexes.length - 1; i >= 0; i--) {\r\n    const index = sortedIndexes[i]\r\n    arr.splice(index, 1)\r\n  }\r\n}\r\nexport function newArrayRemoveAt(arr, indexes) {\r\n  indexes = toArrayIfNot(indexes)\r\n  const mapping = {}\r\n  for (const index of indexes) {\r\n    mapping[index] = true\r\n  }\r\n  const newArr = []\r\n  const len = arr.length\r\n  for (let i = 0; i < len; i++) {\r\n    if (!mapping[i]) {\r\n      newArr.push(arr[i])\r\n    }\r\n  }\r\n  return newArr\r\n}\r\nexport function arrayAt(arr, n) {\r\n  return arr[n >= 0 ? n : (arr.length + n)]\r\n}\r\nexport function arrayFirst(arr) {\r\n  return arr[0]\r\n}\r\nexport function arrayLast(arr) {\r\n  return arr[arr.length - 1]\r\n}\r\nexport function arrayDiff(arr1, arr2) {\r\n  var len = arr1.length\r\n  var arr = []\r\n  while (len--) {\r\n    if (arr2.indexOf(arr1[len]) < 0) {\r\n      arr.push(arr1[len])\r\n    }\r\n  }\r\n  return arr\r\n}\r\n// offset can be many\r\nexport function arraySibling(arr, item, offset) {\r\n  const index = arr.indexOf(item)\r\n  if (index === -1) {\r\n    throw 'item is not in array'\r\n  }\r\n  if (isArray(offset)) {\r\n    return offset.map(v => arr[index + v])\r\n  }\r\n  return arr[index + offset]\r\n}\r\nexport function toArrayIfNot(arrOrNot) {\r\n  return isArray(arrOrNot) ? arrOrNot : [arrOrNot]\r\n}\r\n// n can be getter(number of times)\r\n// n可以是方法, 参数1是第几次分块\r\nexport function splitArray(arr, n) {\r\n  const r = []\r\n  if (isFunction(n)) {\r\n    const getChunkLength = n\r\n    let times = 1\r\n    let i = 0\r\n    while (i < arr.length) {\r\n      const n = getChunkLength(times)\r\n      const end = i + n\r\n      r.push(arr.slice(i, end))\r\n      i = end\r\n      times++\r\n    }\r\n  } else {\r\n    let i = 0\r\n    while (i < arr.length) {\r\n      const end = i + n\r\n      r.push(arr.slice(i, end))\r\n      i = end\r\n    }\r\n  }\r\n  return r\r\n}\r\nexport function groupArray(arr, getMark) {\r\n  const groups = new Map\r\n  arr.forEach(v => {\r\n    const mark = getMark(v)\r\n    if (!groups.has(mark)) {\r\n      groups.set(mark, [])\r\n    }\r\n    groups.get(mark).push(v)\r\n  })\r\n  const r = []\r\n  groups.forEach((value, key) => {\r\n    r.push([key, value])\r\n  })\r\n  return r\r\n}\r\nexport function arrayDistinct(arr) {\r\n  if (glb().Set) {\r\n    return [...new Set(arr)]\r\n  } else {\r\n    return arr.filter((v, i, a) => a.indexOf(v) === i)\r\n  }\r\n}\r\nexport function arrayGet(arr, index, endIndex) {\r\n  if (index < 0) {\r\n    index += arr.length\r\n  }\r\n  if (endIndex == null) {\r\n    return arr[index]\r\n  } else {\r\n    if (endIndex < 0) {\r\n      endIndex += arr.length\r\n    }\r\n    return arr.slice(index, endIndex - index + 1)\r\n  }\r\n}\r\n\r\n\r\nexport function arrayWithoutEnd(arr, len) {\r\n  return arr.slice(0, arr.length - len)\r\n}\r\n// object\r\nexport function assignIfDifferent(obj, key, val) {\r\n  if (obj[key] !== val) {\r\n    obj[key] = val\r\n  }\r\n}\r\nexport function objectMerge(o1, o2) {\r\n  for (const k in o2) {\r\n    if (!o1.hasOwnProperty(k)) {\r\n      o1[k] = o2[k]\r\n    } else if (isObject(o1[k]) && isObject(o2[k])) {\r\n      Object.assign(o1[k], o2[k])\r\n    } else {\r\n      o1[k] = o2[k]\r\n    }\r\n  }\r\n  return o1\r\n}\r\nexport function objectMap(obj, func) {\r\n  const r = {}\r\n  for (const key in obj) {\r\n    r[key] = func(obj[key], key, obj)\r\n  }\r\n  return r\r\n}\r\nexport function objectOnly(obj, keys) {\r\n  const r = {}\r\n  for (const key in obj) {\r\n    if (keys.indexOf(key) > -1) {\r\n      r[key] = obj[key]\r\n    }\r\n  }\r\n  return r\r\n}\r\nexport function objectExcept(obj, keys) {\r\n  const r = {}\r\n  for (const key in obj) {\r\n    if (keys.indexOf(key) === -1) {\r\n      r[key] = obj[key]\r\n    }\r\n  }\r\n  return r\r\n}\r\n// loop for all type\r\n// todo change reverse to opt in next version\r\nexport function forAll(val, handler, reverse) {\r\n  if (!reverse) {\r\n    if (isArray(val) || isString(val) || val.hasOwnProperty('length')) {\r\n      for (let i = 0; i < val.length; i++) {\r\n        if (handler(val[i], i) === false) {\r\n          break\r\n        }\r\n      }\r\n    } else if (isObject(val)) {\r\n      for (const key of Object.keys(val)) {\r\n        if (handler(val[key], key) === false) {\r\n          break\r\n        }\r\n      }\r\n    } else if (Number.isInteger(val)) {\r\n      for (let i = 0; i < val; i++) {\r\n        if (handler(i, i) === false) {\r\n          break\r\n        }\r\n      }\r\n    }\r\n  } else {\r\n    if (isArray(val) || isString(val) || val.hasOwnProperty('length')) {\r\n      for (let i = val.length - 1; i >= 0 ; i--) {\r\n        if (handler(val[i], i) === false) {\r\n          break\r\n        }\r\n      }\r\n    } else if (isObject(val)) {\r\n      const keys = Object.keys(val)\r\n      keys.reverse()\r\n      for (const key of keys) {\r\n        if (handler(val[key], key) === false) {\r\n          break\r\n        }\r\n      }\r\n    } else if (Number.isInteger(val)) {\r\n      for (let i = val - 1; i >= 0; i--) {\r\n        if (handler(i, i) === false) {\r\n          break\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n// loop for Array, Object, NodeList, String\r\nexport function* iterateALL(val, opt = {}) {\r\n  // opt: {reverse, exclude}\r\n  if (!opt.reverse) {\r\n    if (val.length != null) {\r\n      for (let i = 0; i < val.length; i++) {\r\n        const info = {value: val[i], index: i}\r\n        if (!opt.exclude || !opt.exclude(info)) {\r\n          yield info\r\n        }\r\n      }\r\n    } else if (isObject(val)) {\r\n      for (const key of Object.keys(val)) {\r\n        const info = {value: val[key], key}\r\n        if (!opt.exclude || !opt.exclude(info)) {\r\n          yield info\r\n        }\r\n      }\r\n    } else {\r\n      throw 'Unsupported type'\r\n    }\r\n  } else {\r\n    if (val.length != null) {\r\n      for (let i = val.length - 1; i >= 0 ; i--) {\r\n        const info = {value: val[i], index: i}\r\n        if (!opt.exclude || !opt.exclude(info)) {\r\n          yield info\r\n        }\r\n      }\r\n    } else if (isObject(val)) {\r\n      const keys = Object.keys(val)\r\n      keys.reverse()\r\n      for (const key of keys) {\r\n        const info = {value: val[key], key}\r\n        if (!opt.exclude || !opt.exclude(info)) {\r\n          yield info\r\n        }\r\n      }\r\n    } else {\r\n      throw 'Unsupported type'\r\n    }\r\n  }\r\n}\r\n// source: http://stackoverflow.com/questions/8817394/javascript-get-deep-value-from-object-by-passing-path-to-it-as-string\r\nexport function objectGet(obj, path, throwError) {\r\n  const paths = isArray(path) ? path : path.split('.')\r\n  let current = obj\r\n  try {\r\n    for (const key of paths) {\r\n      current = current[key]\r\n    }\r\n  } catch (e) {\r\n    if (throwError) {\r\n      throw \"Path does not exist\"\r\n    }\r\n  }\r\n  return current\r\n}\r\n\r\nexport function objectSet(obj, path, value) {\r\n  const paths = isArray(path) ? path : path.split('.')\r\n  const lastKey = arrayLast(paths)\r\n  const parent = objectGet(obj, paths.slice(0, paths.length - 1))\r\n  if (!parent) {\r\n    throw \"Path does not exist\"\r\n  }\r\n  parent[lastKey] = value\r\n}\r\n\r\nexport function unset(obj, prop) {\r\n  obj[prop] = undefined\r\n  try {\r\n    delete obj[prop]\r\n  } catch (e) {}\r\n}\r\n\r\n// exclude: array or function\r\nexport function cloneObj(obj, exclude) {\r\n  const type = typeof(obj)\r\n  switch (type) {\r\n    case 'undefined':\r\n    case 'boolean':\r\n    case 'nuber':\r\n    case 'string':\r\n    case 'function':\r\n        return obj\r\n      break;\r\n    case 'object':\r\n        if (obj === null) {\r\n          // null is object\r\n          return obj\r\n        }\r\n        let r\r\n        if (isArray(obj)) {\r\n          r = []\r\n          for (const item of obj) {\r\n            r.push(cloneObj(item, exclude))\r\n          }\r\n        } else {\r\n          r = {}\r\n          for (const key of Object.keys(obj)) {\r\n            if (!exclude || (isArray(exclude) && !exclude.includes(key)) || !exclude(key, obj[key], obj)) {\r\n              r[key] = cloneObj(obj[key], exclude)\r\n            }\r\n          }\r\n        }\r\n        return r\r\n      break;\r\n    default:\r\n        return obj\r\n      break;\r\n  }\r\n}\r\n/*\r\nreturn cloned obj\r\nhandler(value, key, parent, newParent)\r\nhandler can return null or an object.\r\nnull: don't change anything\r\nobject{\r\n  key: false, // delete. Deprecated, this will be removed in future, please use `delete` instead of it.\r\n  key: new key, // use a new key instead of old key. if key == null, the old key will be detected\r\n  delete,\r\n  value, // new value. if value not gived, the old value will be detected\r\n  skip, // skip children\r\n  stop,\r\n}\r\n{key: false}: delete\r\n{value}: change value\r\n{key, value}. change key and value\r\nlimit: to prevent circular reference.\r\n */\r\nexport function mapObjectTree(obj, handler, limit=10000) {\r\n  let r\r\n  let count = 0\r\n  const stack = [{value: obj}]\r\n  while (stack.length > 0) {\r\n    if (count >= limit) {\r\n      throw `mapObjectTree: limit(${limit}) reached, object may has circular reference`\r\n    }\r\n    count++\r\n    const {value, key, parent, newParent} = stack.shift()\r\n    const t = handler(value, key, parent, newParent)\r\n    const assign = (value, key, canPush) => {\r\n      if (isArray(value)) {\r\n        value = []\r\n      } else if (isObject(value)) {\r\n        value = {}\r\n      }\r\n      if (parent) {\r\n        if (isArray(newParent) && canPush) {\r\n          newParent.push(value)\r\n        } else {\r\n          newParent[key] = value\r\n        }\r\n      } else {\r\n        r = value\r\n      }\r\n      // value may changed\r\n      return value\r\n    }\r\n    let newVal, val, toDelete , stop, skip\r\n    if (!t) {\r\n      // no change\r\n      val = value\r\n      newVal = assign(value, key)\r\n    } else {\r\n      const {key: key2, value} = t\r\n      val = value\r\n      if (t.delete || key2 === false) {\r\n        // del\r\n        toDelete = true\r\n      } else if (key2 == null) {\r\n        // don't change key\r\n        newVal = assign(value, key, true)\r\n      } else if(t.hasOwnProperty('value')) {\r\n        newVal = assign(value, key2)\r\n      }\r\n      ({stop, skip} = t)\r\n    }\r\n    if (toDelete) {\r\n      continue\r\n    }\r\n    if (skip) {\r\n      continue\r\n    }\r\n    if (stop) {\r\n      break\r\n    }\r\n    if (isArray(val)) {\r\n      const len = val.length\r\n      for (let i = 0; i < len; i++) {\r\n        stack.push({value: val[i], key: i, parent: val, newParent: newVal})\r\n      }\r\n    } else if (isObject(val)) {\r\n      Object.keys(val).forEach(key => {\r\n        stack.push({value: val[key], key, parent: val, newParent: newVal})\r\n      })\r\n    }\r\n  }\r\n  return r\r\n}\r\n// arr, idKey/getId\r\nexport function mapObjects(arr, idKey) {\r\n  const r = {}\r\n  const len = arr.length\r\n  for (let i = 0; i < len; i++) {\r\n    const item = arr[i]\r\n    const id = isFunction(idKey) ? idKey(item, i) : item[idKey]\r\n    r[id] = item\r\n  }\r\n  return r\r\n}\r\n//\r\nexport function pairRows(rows1, rows2, key1, key2) {\r\n  if (!key2) {\r\n    key2 = key1\r\n  }\r\n  const map = mapObjects(rows2, key2)\r\n  return rows1.map(row1 => [row1, map[row1[key1]]])\r\n}\r\n// 深度优先遍历\r\n// Depth-First-Search\r\nexport function depthFirstSearch(obj, handler, childrenKey = 'children', reverse) {\r\n  const rootChildren = hp.isArray(obj) ? obj : [obj]\r\n  //\r\n  const StopException = () => {}\r\n  const func = (children, parent) => {\r\n    if (reverse) {\r\n      children = children.slice()\r\n      children.reverse()\r\n    }\r\n    const len = children.length\r\n    for (let i = 0; i < len; i++) {\r\n      const item = children[i]\r\n      const r = handler(item, i, parent)\r\n      if (r === false) {\r\n        // stop\r\n        throw new StopException()\r\n      } else if (r === 'skip children') {\r\n        continue\r\n      } else if (r === 'skip siblings') {\r\n        break\r\n      }\r\n      if (item[childrenKey] != null) {\r\n        func(item[childrenKey], item)\r\n      }\r\n    }\r\n  }\r\n  try {\r\n    func(rootChildren)\r\n  } catch (e) {\r\n    if (e instanceof StopException) {\r\n     // stop\r\n   } else {\r\n     throw e\r\n   }\r\n  }\r\n}\r\nexport const walkTreeData = depthFirstSearch\r\n// rootData: Array\r\nexport function getNodeByPathFromTreeData(indexes, rootData, childrenKey='children') {\r\n  let cur\r\n  let children = rootData\r\n  for (const index of indexes) {\r\n    cur = children[index]\r\n    children = cur[childrenKey]\r\n  }\r\n  return cur\r\n}\r\n\r\n// function helper | method helper ============================\r\nexport function resolveValueOrGettter(valueOrGetter, args = []) {\r\n  if (isFunction(valueOrGetter)) {\r\n    return valueOrGetter(...args)\r\n  } else {\r\n    return valueOrGetter\r\n  }\r\n}\r\nexport function executeWithCount(func) {\r\n  let count = 0\r\n  return function(...args) {\r\n    return func.call(this, count++, ...args)\r\n  }\r\n}\r\nexport function watchChange(getVal, handler) {\r\n  let oldVal\r\n  const update = (...args) => {\r\n    const newVal = getVal(...args)\r\n    if (oldVal !== newVal) {\r\n      handler(newVal, ...args)\r\n    }\r\n    oldVal = newVal\r\n  }\r\n  return update\r\n}\r\nexport const store_executeOnceInScopeByName = {}\r\nexport function executeOnceInScopeByName(name, action, scope = scope_executeOnceInScopeByName, storeResult) {\r\n  name = `executeOnceInScopeByName_${name}`\r\n  if (!scope[name]) {\r\n    const value = action()\r\n    const destroy = () => {\r\n      delete scope[name]\r\n    }\r\n    scope[name] = {destroy}\r\n    if (storeResult) {\r\n      scope[name].value = value\r\n    }\r\n  }\r\n  return scope[name]\r\n}\r\nexport function debounceTrailing(action, wait = 0) {\r\n  let t\r\n  let delaying\r\n  let lastArgs // when trailing, use last args\r\n  let resolves = []\r\n  let rejects = []\r\n  const wrappedAction = function (...args) {\r\n    return new Promise((resolve, reject) => {\r\n      resolves.push(resolve)\r\n      rejects.push(reject)\r\n      //\r\n      lastArgs = args\r\n      if (!delaying) {\r\n        delaying = true\r\n        t = setTimeout(() => {\r\n          const result = action.call(this, ...lastArgs)\r\n          t = null\r\n          delaying = false\r\n          resolves.forEach(resolve => resolve(result))\r\n          resolves = []\r\n          rejects = []\r\n        }, wait)\r\n      }\r\n    })\r\n  }\r\n  wrappedAction.stop = () => {\r\n    if (t) {\r\n      clearTimeout(t)\r\n      t = null\r\n    }\r\n    delaying = false\r\n    resolves = []\r\n    rejects.forEach(reject => reject())\r\n    rejects = []\r\n  }\r\n  return wrappedAction\r\n}\r\nexport function debounceImmediate(action, wait = 0) {\r\n  let t\r\n  let delaying\r\n  let result\r\n  const wrappedAction = function (...args) {\r\n    return new Promise((resolve, reject) => {\r\n      if (delaying) {\r\n        resolve(result)\r\n      } else {\r\n        delaying = true\r\n        result = action.call(this, ...lastArgs)\r\n        resolve(result)\r\n        t = setTimeout(() => {\r\n          t = null\r\n          delaying = false\r\n          result = null\r\n        }, wait)\r\n      }\r\n    })\r\n  }\r\n  wrappedAction.stop = () => {\r\n    if (t) {\r\n      clearTimeout(t)\r\n      t = null\r\n    }\r\n    delaying = false\r\n  }\r\n  return wrappedAction\r\n}\r\nexport function debounce(action, wait = 0, opt = {}) {\r\n  if (opt.immediate) {\r\n    return debounceImmediate(action, wait)\r\n  } else {\r\n    return debounceTrailing(action, wait)\r\n  }\r\n}\r\n/**\r\n * [joinMethods description]\r\n * @param  {[Function[]]} methods        [description]\r\n * @param  {String} [mode='value'] [value, pipeline]\r\n * @return {[Function]}                [description]\r\n */\r\nexport function joinMethods(methods, mode = 'value') {\r\n  let simpleJoinedMethod\r\n  for (const method of methods) {\r\n    const old = simpleJoinedMethod\r\n    if (old) {\r\n      simpleJoinedMethod = function (...args) {\r\n        return method.call(this, mode === 'value' ? old.call(this, ...args) : old, ...args)\r\n      }\r\n    } else {\r\n      simpleJoinedMethod = method\r\n    }\r\n  }\r\n  return simpleJoinedMethod\r\n}\r\n// the returned function only accept one argument\r\nexport function joinFunctionsByResult(funcs) {\r\n  let wrappedFunc = funcs[0]\r\n  for (let i = 1; i < funcs.length; i++) {\r\n    wrappedFunc = join2func(wrappedFunc, funcs[i])\r\n  }\r\n  return wrappedFunc\r\n  function join2func(func1, func2) {\r\n    return function (arg) {\r\n      let result = args\r\n      const result1 = func1(arg)\r\n      return func2(result1)\r\n    }\r\n  }\r\n}\r\n\r\n// must pass arguments to `next` manually\r\nexport function joinFunctionsByNext(funcs) {\r\n  let next = () => {}\r\n  for (const {value: func} of iterateALL(funcs, {reverse: true})) {\r\n    const currentNext = next\r\n    next = wrapFuncWithNext(func, currentNext)\r\n  }\r\n  return next\r\n  function wrapFuncWithNext(func, next) {\r\n    return function (...args) {\r\n      return func(next, ...args)\r\n    }\r\n  }\r\n}\r\n// promise\r\n// execute promise in sequence\r\nexport function executePromiseGetters(getters, concurrent = 1) {\r\n  let stopped\r\n  const promise = new Promise(function(resolve, reject) {\r\n    const r = []\r\n    const chunks = splitArray(getters, concurrent)\r\n    let promise = Promise.resolve()\r\n    chunks.forEach(chunk => {\r\n      promise = promise.then(result => {\r\n        if (result) {\r\n          r.push(...result)\r\n        }\r\n        if (stopped) {\r\n          reject('stopped')\r\n        } else {\r\n          return Promise.all(chunk.map(v => v()))\r\n        }\r\n      })\r\n    })\r\n    promise.then(result => {\r\n      r.push(...result)\r\n      resolve(r)\r\n    })\r\n  })\r\n  return {\r\n    promise,\r\n    destroy() {\r\n      stopped = true\r\n    },\r\n  }\r\n}\r\n\r\nexport function promiseTimeout(promise, timeout) {\r\n  return new Promise((resolve, reject) => {\r\n    let t, rejected\r\n    promise.then((...args) => {\r\n      clearTimeout(t)\r\n      resolve(...args)\r\n    }, (...args) => {\r\n      if (!rejected) {\r\n        clearTimeout(t)\r\n        reject(...args)\r\n      }\r\n    })\r\n    t = setTimeout(() => {\r\n      rejected = true\r\n      const e = new Error('Promise timeout!')\r\n      e.name = 'timeout'\r\n      reject(e)\r\n    }, timeout)\r\n  })\r\n}\r\n\r\n// url\r\n/* eslint-disable */\r\nexport function getUrlParam(par) {\r\n    // 获取当前URL\r\n  var local_url = document.location.href\r\n    // 获取要取得的get参数位置\r\n  var get = local_url.indexOf(par + '=')\r\n  if (get == -1) {\r\n    return false\r\n  }\r\n    // 截取字符串\r\n  var get_par = local_url.slice(par.length + get + 1)\r\n    // 判断截取后的字符串是否还有其他get参数\r\n  var nextPar = get_par.indexOf('&')\r\n  if (nextPar != -1) {\r\n    get_par = get_par.slice(0, nextPar)\r\n  }\r\n  return get_par\r\n}\r\n/* eslint-enable */\r\n// dom =====================================================\r\n// return NodeList if there are multiple top-level nodes\r\nexport function createElementFromHTML(htmlString) {\r\n  var div = document.createElement('div');\r\n  div.innerHTML = htmlString.trim();\r\n  if (div.childNodes.length > 1) {\r\n    return div.childNodes\r\n  } else {\r\n    return div.childNodes[0]\r\n  }\r\n}\r\nexport function uniqueId (prefix = 'id_') {\r\n  const id = prefix + strRand()\r\n  if (!store.uniqueId) store.uniqueId = {}\r\n  const generatedIds = store.uniqueId\r\n  if (document.getElementById(id) || generatedIds[id]) {\r\n    return uniqueId(prefix)\r\n  } else {\r\n    generatedIds[id] = true\r\n    return id\r\n  }\r\n}\r\nexport function isDescendantOf (el, parent) {\r\n  while (true) {\r\n    if (el.parentElement == null) {\r\n      return false\r\n    } else if (el.parentElement === parent) {\r\n      return true\r\n    } else {\r\n      el = el.parentElement\r\n    }\r\n  }\r\n}\r\n\r\nexport function removeEl(el) {\r\n  if (el.parentNode !== null) {\r\n    return el.parentNode.removeChild(el)\r\n  }\r\n}\r\n\r\n// refer: https://stackoverflow.com/questions/871399/cross-browser-method-for-detecting-the-scrolltop-of-the-browser-window\r\nexport function getScroll(){\r\n    if(typeof pageYOffset!= 'undefined'){\r\n        //most browsers except IE before #9\r\n        return {\r\n          top: pageYOffset,\r\n          left: pageXOffset,\r\n        };\r\n    }\r\n    else{\r\n        var B= document.body; //IE 'quirks'\r\n        var D= document.documentElement; //IE with doctype\r\n        D= (D.clientHeight)? D: B;\r\n        return {\r\n          top: D.scrollTop,\r\n          left: D.scrollLeft,\r\n        };\r\n    }\r\n}\r\n// refer: https://gist.github.com/aderaaij/89547e34617b95ac29d1\r\nexport function getOffset(el) {\r\n  const rect = getBoundingClientRect(el)\r\n  const scroll = getScroll()\r\n\r\n\treturn {\r\n\t\tx: rect.left + scroll.left,\r\n    y: rect.top + scroll.top,\r\n\t}\r\n}\r\n\r\n// there is some trap in el.offsetParent, so use this func to fix\r\nexport function getOffsetParent(el) {\r\n  let offsetParent = el.offsetParent\r\n  if(\r\n    !offsetParent\r\n    || offsetParent === document.body && getComputedStyle(document.body).position === 'static'\r\n  ) {\r\n    offsetParent = document.body.parentElement\r\n  }\r\n  return offsetParent\r\n}\r\n// get el current position. like jQuery.position\r\n// the position is relative to offsetParent viewport left top. it is for set absolute position, absolute position is relative to offsetParent viewport left top.\r\n// 相对于offsetParent可视区域左上角(el.offsetLeft或top包含父元素的滚动距离, 所以要减去). position一般用于设置绝对定位的情况, 而绝对定位就是以可视区域左上角为原点.\r\nexport function getPosition(el) {\r\n  const offsetParent = getOffsetParent(el)\r\n  const ps = {x: el.offsetLeft, y: el.offsetTop}\r\n  let parent = el\r\n  while (true) {\r\n    parent = parent.parentElement\r\n    if (parent === offsetParent || !parent) {\r\n      break\r\n    }\r\n    ps.x -= parent.scrollLeft\r\n    ps.y -= parent.scrollTop\r\n  }\r\n  return ps\r\n}\r\n\r\n// get position of a el if its offset is given. like jQuery.offset.\r\n// 类似 jQuery.offset的设置功能, 但是它只返回计算的position, 不改变元素样式.\r\nexport function getPositionFromOffset(el, of) {\r\n  const offsetParent = getOffsetParent(el)\r\n  const parentOf = getOffset(offsetParent)\r\n  return {\r\n    x: of.x - parentOf.x,\r\n    y: of.y - parentOf.y,\r\n  }\r\n}\r\nexport function getBoundingClientRect(el){\r\n  // refer: http://www.51xuediannao.com/javascript/getBoundingClientRect.html\r\n  const xy = el.getBoundingClientRect()\r\n  const top = xy.top-document.documentElement.clientTop,//document.documentElement.clientTop 在IE67中始终为2，其他高级点的浏览器为0\r\n      bottom = xy.bottom,\r\n      left = xy.left-document.documentElement.clientLeft,//document.documentElement.clientLeft 在IE67中始终为2，其他高级点的浏览器为0\r\n      right = xy.right,\r\n      width = xy.width||right - left, //IE67不存在width 使用right - left获得\r\n      height = xy.height||bottom - top\r\n  const x = left\r\n  const y = top\r\n  return {top, right, bottom, left, width, height, x, y}\r\n}\r\nexport const getViewportPosition = getBoundingClientRect\r\n\r\n// todo not tested\r\nexport function viewportPositionToOffset(position){\r\n  const body = document.body\r\n  const bodyOf = getOffset(body)\r\n  const bodyVP = getViewportPosition(body)\r\n  return {x: position.x + bodyOf.x - bodyVP.x, y: position.y + bodyOf.y - bodyVP.y}\r\n}\r\n\r\n// todo not tested\r\nexport function offsetToViewportPosition(offset){\r\n  const body = document.body\r\n  const bodyOf = getOffset(body)\r\n  const bodyVP = getViewportPosition(body)\r\n  return {x: offset.x + bodyVP.x - bodyOf.x, y: offset.y + bodyVP.y - bodyOf.y}\r\n}\r\n\r\nexport function findParent(el, callback, opt) {\r\n  let cur = (opt && opt.withSelf) ? el : el.parentElement\r\n  while (cur) {\r\n    const r = callback(cur)\r\n    if (r === 'break') {\r\n      return\r\n    } else if(r) {\r\n      return cur\r\n    } else {\r\n      cur = cur.parentElement\r\n    }\r\n  }\r\n}\r\nexport function backupAttr(el, name) {\r\n  const key = `original_${name}`\r\n  el[key] = el.getAttribute(name)\r\n}\r\n\r\nexport function restoreAttr(el, name) {\r\n  const key = `original_${name}`\r\n  el.setAttribute(name, el[key])\r\n}\r\n\r\n// source: http://youmightnotneedjquery.com/\r\nexport function hasClass(el, className) {\r\n  if (el.classList) {\r\n    return el.classList.contains(className)\r\n  } else {\r\n    return new RegExp('(^| )' + className + '( |$)', 'gi').test(el.className)\r\n  }\r\n}\r\n\r\n// source: http://youmightnotneedjquery.com/\r\nexport function addClass(el, className) {\r\n  if (!hasClass(el, className)) {\r\n    if (el.classList)\r\n    { el.classList.add(className) }\r\n    else\r\n    { el.className += ' ' + className }\r\n  }\r\n}\r\n// source: http://youmightnotneedjquery.com/\r\nexport function removeClass(el, className) {\r\n  if (el.classList)\r\n  { el.classList.remove(className) }\r\n  else\r\n  { el.className = el.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ') }\r\n}\r\n// todo rename to getElSizeEvenInvisible in next version\r\nexport function getElSize(el) {\r\n  backupAttr(el, 'style')\r\n  el.style.display = 'block'\r\n  const t = getBoundingClientRect(el)\r\n  const size = {\r\n    width: t.width,\r\n    height: t.height,\r\n  }\r\n  restoreAttr(el, 'style')\r\n  return size\r\n}\r\nexport const getElSizeEvenInvisible = getElSize\r\n/**\r\n * [isOffsetInEl]\r\n * @param {Number} x\r\n * @param {Number} y\r\n * @param {Object} el HTML Element\r\n */\r\nexport function isOffsetInEl(x, y, el) {\r\n  const offset = getOffset(el)\r\n  return offset.x <= x && offset.x + el.offsetWidth >= x && offset.y <= y && offset.y + el.offsetHeight >= y\r\n}\r\n// get border\r\nexport function getBorder(el) {\r\n  const body = document.body\r\n  const workArea = findParent(el, v => hasClass(v, 'work-area'))\r\n  const of = getOffset(workArea)\r\n  return {\r\n    left: of.x,\r\n    right: of.x + workArea.offsetWidth,\r\n    top: of.y + 50,\r\n    bottom: body.offsetHeight < glb().innerHeight ? glb().innerHeight : body.offsetHeight\r\n  }\r\n}\r\nexport function setElChildByIndex(el, index, child) {\r\n  child.childComponentIndex = index\r\n  const len = el.childNodes.length\r\n  if (len === 0) {\r\n    el.appendChild(child)\r\n  } else if (index === 0) {\r\n    el.insertBefore(child, el.childNodes[0])\r\n  } else {\r\n    const {index: nearestIndex, value: nearest, bigger} = binarySearch(el.childNodes, el => {\r\n      return el.childComponentIndex - index\r\n    }, 0, max(index, len - 1), true)\r\n    if (bigger) {\r\n      el.insertBefore(child, nearest)\r\n    } else {\r\n      const next = el.childNodes[nearestIndex + 1]\r\n      if (next) {\r\n        el.insertBefore(child, next)\r\n      } else {\r\n        el.appendChild(child)\r\n      }\r\n    }\r\n  }\r\n}\r\n// from https://blog.csdn.net/qq_30100043/article/details/74719534\r\nexport function getCss3Prefix(opt = {}) {\r\n  if (opt.noCache || store.css3Prefix == null) {\r\n    store.css3Prefix = reget()\r\n  }\r\n  return store.css3Prefix\r\n  function reget() {\r\n    var div = document.createElement('div');\r\n    var cssText = '-webkit-transition:all .1s; -moz-transition:all .1s; -o-transition:all .1s; -ms-transition:all .1s; transition:all .1s;';\r\n    div.style.cssText = cssText;\r\n    var style = div.style;\r\n    if (style.webkitTransition) {\r\n        return '-webkit-';\r\n    }\r\n    if (style.MozTransition) {\r\n        return '-moz-';\r\n    }\r\n    if (style.oTransition) {\r\n        return '-o-';\r\n    }\r\n    if (style.msTransition) {\r\n        return '-ms-';\r\n    }\r\n    return '';\r\n  }\r\n}\r\n// dom event\r\nexport function onDOM(el, name, handler, ...args) {\r\n  if (el.addEventListener) { // 所有主流浏览器，除了 IE 8 及更早 IE版本\r\n    el.addEventListener(name, handler, ...args)\r\n  } else if (el.attachEvent) { // IE 8 及更早 IE 版本\r\n    el.attachEvent(`on${name}`, handler, ...args)\r\n  }\r\n}\r\nexport function offDOM(el, name, handler, ...args) {\r\n  if (el.removeEventListener) { // 所有主流浏览器，除了 IE 8 及更早 IE版本\r\n    el.removeEventListener(name, handler, ...args)\r\n  } else if (el.detachEvent) { // IE 8 及更早 IE 版本\r\n    el.detachEvent(`on${name}`, handler, ...args)\r\n  }\r\n}\r\nexport function onDOMMany(els, names, handler, ...args) {\r\n  els = toArrayIfNot(els)\r\n  names = toArrayIfNot(names)\r\n  for (const el of els) {\r\n    for (const name of names) {\r\n      onDOM(el, name, handler, ...args)\r\n    }\r\n  }\r\n  const destroy = () => {\r\n    for (const el of els) {\r\n      for (const name of names) {\r\n        offDOM(el, name, handler)\r\n      }\r\n    }\r\n  }\r\n  return destroy\r\n}\r\nexport function getImageSizeByUrl(url) {\r\n  const image = document.createElement('img')\r\n  return new Promise(function(resolve, reject) {\r\n    onDOM(image, 'load', () => {\r\n      resolve({width: image.width, height: image.height})\r\n    })\r\n    onDOM(image, 'error', (e) => {\r\n      reject(e)\r\n    })\r\n    image.src = url\r\n  })\r\n}\r\n\r\nexport function findNodeList(list, callback, opt = {}) {\r\n  const iterator = iterateALL(list, {\r\n    reverse: opt.reverse\r\n  })\r\n  for (const {value, index} of iterator) {\r\n    if (callback(value, index)) {\r\n      return value\r\n    }\r\n  }\r\n}\r\n\r\nexport function findNodeListReverse(list, callback, opt = {}) {\r\n  opt.reverse = true\r\n  return findNodeList(list, callback, opt)\r\n}\r\n\r\nexport function elementsFromPoint(...args) {\r\n  const func = document.elementsFromPoint || document.msElementsFromPoint || elementsFromPoint\r\n  return func.apply(document, args)\r\n  function elementsFromPoint(x, y) {\r\n      const parents = [];\r\n      let parent = void 0;\r\n      do {\r\n          if (parent !== document.elementFromPoint(x, y)) {\r\n              parent = document.elementFromPoint(x, y);\r\n              parents.push(parent);\r\n              parent.style.pointerEvents = 'none';\r\n          } else {\r\n              parent = false;\r\n          }\r\n      } while (parent);\r\n      parents.forEach(function (parent) {\r\n          return parent.style.pointerEvents = 'all';\r\n      });\r\n      return parents;\r\n  }\r\n}\r\n\r\nexport function getOuterAttachedHeight(el, opt = {}) {\r\n  opt = {\r\n    margin: true,\r\n    border: true,\r\n    ...opt,\r\n  }\r\n  const stl = getComputedStyle(el)\r\n  let r = 0\r\n  const arr = []\r\n  if (opt.margin) {\r\n    arr.push('margin-top', 'margin-bottom')\r\n  }\r\n  if (opt.border) {\r\n    arr.push('border-top-width', 'border-bottom-width')\r\n  }\r\n  arr.forEach(key => {\r\n    r += parseFloat(stl[key])\r\n  })\r\n  return r\r\n}\r\n\r\nexport function getOuterAttachedWidth(el, opt = {}) {\r\n  opt = {\r\n    margin: true,\r\n    border: true,\r\n    ...opt,\r\n  }\r\n  const stl = getComputedStyle(el)\r\n  let r = 0\r\n  const arr = []\r\n  if (opt.margin) {\r\n    arr.push('margin-left', 'margin-right')\r\n  }\r\n  if (opt.border) {\r\n    arr.push('border-left-width', 'border-right-width')\r\n  }\r\n  arr.forEach(key => {\r\n    r += parseFloat(stl[key])\r\n  })\r\n  return r\r\n}\r\n// DOM structure\r\nexport function insertBefore(el, target) {\r\n  target.parentElement.insertBefore(el, target)\r\n}\r\nexport function insertAfter(el, target) {\r\n  target.parentElement.insertBefore(el, target.nextSibling)\r\n}\r\nexport function prependTo(el, target) {\r\n  target.insertBefore(el, target.firstChild);\r\n}\r\nexport function appendTo(el, target) {\r\n  target.appendChild(el)\r\n}\r\n// advance\r\n// binarySearch 二分查找\r\n// callback(mid, i) should return mid - your_value\r\nexport function binarySearch(arr, callback, start, end, returnNearestIfNoHit, max = 1000) {\r\n  let midNum\r\n  let mid\r\n  if (start == null) {\r\n    start = 0\r\n    end = arr.length - 1\r\n  }\r\n  let i = 0\r\n  let r\r\n  while (start >= 0 && start <= end) {\r\n    if (i >= max) {\r\n      throw Error(`binarySearch: loop times is over ${max}, you can increase the limit.`)\r\n    }\r\n    midNum = Math.floor((end - start) / 2 + start)\r\n    mid = arr[midNum]\r\n    r = callback(mid, i)\r\n    if (r > 0) {\r\n      end = midNum - 1\r\n    } else if (r < 0) {\r\n      start = midNum + 1\r\n    } else {\r\n      return { index: midNum, value: mid, count: i + 1, hit: true }\r\n    }\r\n    i++\r\n  }\r\n  return returnNearestIfNoHit ? { index: midNum, value: mid, count: i + 1, hit: false, bigger: r > 0 } : null\r\n}\r\n//\r\nexport function windowLoaded() {\r\n  return new Promise(function(resolve, reject) {\r\n    if (document && document.readyState === 'complete') {\r\n      resolve()\r\n    } else {\r\n      glb().addEventListener('load', function once() {\r\n        resolve()\r\n        glb().removeEventListener('load', once)\r\n      })\r\n    }\r\n  })\r\n}\r\n\r\nexport function waitTime(milliseconds, callback) {\r\n  return new Promise(function(resolve, reject) {\r\n    setTimeout(function () {\r\n      callback && callback()\r\n      resolve()\r\n    }, milliseconds)\r\n  })\r\n}\r\n\r\n// overload waitFor(condition, time = 100, maxCount = 1000))\r\nexport function waitFor(name, condition, time = 100, maxCount = 1000) {\r\n  if (isFunction(name)) {\r\n    maxCount = time\r\n    time = isNumeric(condition) ? condition : 100\r\n    condition = name\r\n    name = null\r\n  }\r\n  if (!store.waitFor) store.waitFor = {}\r\n  const waits = store.waitFor\r\n  if (name && isset(waits[name])) {\r\n    glb().clearInterval(waits[name])\r\n    delete waits[name]\r\n  }\r\n  return new Promise(function(resolve, reject) {\r\n    let count = 0\r\n    function judge(interval) {\r\n      if (count <= maxCount) {\r\n        if (condition()) {\r\n          stop(interval, name)\r\n          resolve()\r\n        }\r\n      } else {\r\n        stop(interval, name)\r\n        reject(new Error('waitFor: Limit is reached'))\r\n      }\r\n      count++\r\n    }\r\n    function stop(interval, name) {\r\n      if (interval) {\r\n        if (name && isset(waits[name])) {\r\n          glb().clearInterval(waits[name])\r\n          delete waits[name]\r\n        } else {\r\n          glb().clearInterval(interval)\r\n        }\r\n      }\r\n    }\r\n    const interval = glb().setInterval(function () {\r\n      judge(interval)\r\n    }, time)\r\n    if (name) {\r\n      waits[name] = interval\r\n    }\r\n    judge()\r\n  })\r\n}\r\n\r\nexport function retry(func, limitTimes = 3) {\r\n  if (!store.retry) store.retry = {}\r\n  const counters = retry\r\n  const name = generateName()\r\n  counters[name] = 0\r\n  return doFunc\r\n  function doFunc(arg1, arg2, arg3) {\r\n    return func(arg1, arg2, arg3).then((data) => {\r\n      delete counters[name]\r\n      return data\r\n    }).catch((e) => {\r\n      counters[name]++\r\n      if (counters[name] >= limitTimes) {\r\n        delete counters[name]\r\n        return Promise.reject(e)\r\n      } else {\r\n        return doFunc(arg1, arg2, arg3)\r\n      }\r\n    })\r\n  }\r\n  function generateName() {\r\n    const name = Math.random() + ''\r\n    if (counters[name]) {\r\n      return generateName()\r\n    } else {\r\n      return name\r\n    }\r\n  }\r\n}\r\n// 复制文字到剪贴板\r\nexport function copyTextToClipboard(text) {\r\n  try {\r\n    // use latest api\r\n    navigator.clipboard.writeText(text)\r\n    return\r\n  } catch (e) {}\r\n  var textArea = document.createElement('textarea')\r\n\r\n  //\r\n  // *** This styling is an extra step which is likely not required. ***\r\n  //\r\n  // Why is it here? To ensure:\r\n  // 1. the element is able to have focus and selection.\r\n  // 2. if element was to flash render it has minimal visual impact.\r\n  // 3. less flakyness with selection and copying which **might** occur if\r\n  //    the textarea element is not visible.\r\n  //\r\n  // The likelihood is the element won't even render, not even a flash,\r\n  // so some of these are just precautions. However in IE the element\r\n  // is visible whilst the popup box asking the user for permission for\r\n  // the web page to copy to the clipboard.\r\n  //\r\n\r\n  // Place in top-left corner of screen regardless of scroll position.\r\n  textArea.style.position = 'fixed'\r\n  textArea.style.top = 0\r\n  textArea.style.left = 0\r\n\r\n  // Ensure it has a small width and height. Setting to 1px / 1em\r\n  // doesn't work as this gives a negative w/h on some browsers.\r\n  textArea.style.width = '2em'\r\n  textArea.style.height = '2em'\r\n\r\n  // We don't need padding, reducing the size if it does flash render.\r\n  textArea.style.padding = 0\r\n\r\n  // Clean up any borders.\r\n  textArea.style.border = 'none'\r\n  textArea.style.outline = 'none'\r\n  textArea.style.boxShadow = 'none'\r\n\r\n  // Avoid flash of white box if rendered for any reason.\r\n  textArea.style.background = 'transparent'\r\n\r\n  textArea.value = text\r\n\r\n  document.body.appendChild(textArea)\r\n\r\n  textArea.select()\r\n\r\n  try {\r\n    var successful = document.execCommand('copy')\r\n    var msg = successful ? 'successful' : 'unsuccessful'\r\n    console.log('Copying text command was ' + msg)\r\n  } catch (err) {\r\n    console.log('Oops, unable to copy')\r\n  }\r\n\r\n  document.body.removeChild(textArea)\r\n}\r\n\r\n// jquery\r\nexport function jqFixedSize(sel) {\r\n  const $ = glb().jQuery\r\n  $(sel).each(function () {\r\n    const t = $(this)\r\n    t.css({\r\n      width: t.width() + 'px',\r\n      height: t.height() + 'px',\r\n    })\r\n  })\r\n}\r\nexport function jqMakeCarousel(wrapperSel, listSel, itemSel, speed = 1000, space = 16, dir = 'left', top = 0) {\r\n  if (space.toString().match(/^\\d+$/)) {\r\n    space = space + 'px'\r\n  }\r\n  const spaceNumber = parseFloat(space)\r\n  const $ = glb().jQuery\r\n  const wrapper = $(wrapperSel)\r\n  const list = wrapper.find(listSel)\r\n  wrapper.css({\r\n    position: 'relative',\r\n    height: wrapper.height() + 'px',\r\n  })\r\n  const items0 = list.find(itemSel)\r\n  items0.css({\r\n    margin: '0',\r\n    marginRight: space\r\n  })\r\n  const width = (Math.ceil(items0.width()) + spaceNumber) * items0.length\r\n  list.css({\r\n    position: 'absolute',\r\n    margin: '0',\r\n    width: width + 'px',\r\n  })\r\n  const height = list.height()\r\n  const list2 = list.clone()\r\n  const list3 = list.clone()\r\n  list.css({\r\n    left: 0,\r\n  })\r\n  list2.css({\r\n    left: width + 'px',\r\n  })\r\n  list3.css({\r\n    left: width * 2 + 'px',\r\n  })\r\n  const lists = $('<div></div>')\r\n  lists.css({\r\n    position: 'absolute',\r\n    width: width * 3 + 'px',\r\n    height: height + 'px',\r\n    left: 0,\r\n    top,\r\n  })\r\n  lists.append(list).append(list2).append(list3)\r\n  wrapper.append(lists)\r\n  let left = 0\r\n  function animateLoop() {\r\n    if (dir === 'left') {\r\n      left -= 100\r\n    } else {\r\n      left += 100\r\n    }\r\n    lists.animate({\r\n      left: `${left}px`,\r\n    }, speed, 'linear', () => {\r\n      if (Math.abs(left) > width) {\r\n        if (dir === 'left') {\r\n          left += width\r\n        } else {\r\n          left -= width\r\n        }\r\n        lists.css({\r\n          left: left + 'px'\r\n        })\r\n      }\r\n      animateLoop()\r\n    })\r\n  }\r\n  animateLoop()\r\n}\r\n// https://developer.mozilla.org/docs/Web/API/Window/open\r\n// http://www.w3school.com.cn/htmldom/met_win_open.asp#windowfeatures\r\nexport function openWindow(url, name, opt = {})\r\n{\r\n  glb().open(url, name, Object.keys(opt).map(k => `${k}=${opt[k]}`).join(','));\r\n}\r\n\r\nexport function openCenterWindow(url, name, width, height, opt = {})\r\n{\r\n  const t = {\r\n    width,\r\n    height,\r\n    top: (glb().screen.availHeight-30-height) / 2,\r\n    left: (glb().screen.availWidth-30-width) / 2,\r\n  }\r\n  Object.assign(t, opt)\r\n  openWindow(url, name, t)\r\n}\r\nexport class URLHelper {\r\n  baseUrl = ''; // protocol, hostname, port, pastname\r\n  search = {};\r\n  constructor(baseUrl) {\r\n    let t = decodeURI(baseUrl).split('?')\r\n    this.baseUrl = t[0]\r\n    if (t[1]) {\r\n      t[1].split('&').forEach(v => {\r\n        let t2 = v.split('=')\r\n        this.search[t2[0]] = t2[1] == null ? '' : decodeURIComponent(t2[1])\r\n      })\r\n    }\r\n  }\r\n  getHref() {\r\n    const t = [this.baseUrl]\r\n    let searchStr = Object.keys(this.search).map(k => `${k}=${encodeURIComponent(this.search[k])}`).join('&')\r\n    if (searchStr) {\r\n      t.push(searchStr)\r\n    }\r\n    return t.join('?')\r\n  }\r\n}\r\n\r\n// 解析函数参数, 帮助重载\r\n// types eg: ['Object', (i) => i > 3, ['Number', default], null ]\r\n// null represent all types of argument\r\nexport function resolveArgsByType(args, types) {\r\n  let argIndex = 0\r\n  return types.map(v => {\r\n    // make rule\r\n    let rule, dft\r\n    if (isArray(v)) {\r\n      rule = v[0]\r\n      dft = v[1]\r\n    } else {\r\n      rule = v\r\n      dft = undefined\r\n    }\r\n    if (!isFunction(rule)) {\r\n      if (rule == null) {\r\n        rule = () => true\r\n      } else {\r\n        const t = rule\r\n        rule = x => Object.prototype.toString.call(x) === `[object ${t}]`\r\n      }\r\n    }\r\n    const arg = args[argIndex]\r\n    if (rule(arg)) {\r\n      argIndex++\r\n      return arg\r\n    } else {\r\n      return dft\r\n    }\r\n  })\r\n}\r\n\r\n// set null can remove a item\r\nexport function makeStorageHelper(storage) {\r\n  return {\r\n    storage,\r\n    set(name, value, minutes) {\r\n      if (value == null) {\r\n        this.storage.removeItem(name)\r\n      } else {\r\n        this.storage.setItem(name, JSON.stringify({\r\n          value,\r\n          expired_at: minutes ? new Date().getTime() + minutes * 60 * 1000 : null,\r\n        }))\r\n      }\r\n    },\r\n    get(name) {\r\n      let t = this.storage.getItem(name)\r\n      if (t) {\r\n        t = JSON.parse(t)\r\n        if (!t.expired_at || t.expired_at > new Date().getTime()) {\r\n          return t.value\r\n        } else {\r\n          this.storage.removeItem(name)\r\n        }\r\n      }\r\n      return null\r\n    },\r\n    clear() {\r\n      this.storage.clear()\r\n    },\r\n  }\r\n}\r\nexport function getLocalStorage2() {\r\n  if (!store.localStorage2) {\r\n    store.localStorage2 = makeStorageHelper(glb().localStorage)\r\n  }\r\n  return store.localStorage2\r\n}\r\nexport function getSessionStorage2() {\r\n  if (!store.sessionStorage2) {\r\n    store.sessionStorage2 = makeStorageHelper(glb().sessionStorage)\r\n  }\r\n  return store.sessionStorage2\r\n}\r\n// 事件处理\r\nexport class EventProcessor {\r\n  eventStore = [];\r\n  on(name, handler) {\r\n    this.eventStore.push({ name, handler })\r\n  }\r\n  once(name, handler) {\r\n    const off = () => {\r\n      this.off(name, wrappedHandler)\r\n    }\r\n    const wrappedHandler = (...args) => {\r\n      handler(...args)\r\n      off()\r\n    }\r\n    this.on(name, wrappedHandler)\r\n    return off\r\n  }\r\n  onceTimeout(name, handler, timeout) {\r\n    let off\r\n    const promise = new Promise((resolve, reject) => {\r\n      const wrappedHandler = (...args) => {\r\n        handler(...args)\r\n        resolve()\r\n      }\r\n      off = this.once(name, wrappedHandler)\r\n      waitTime(timeout).then(() => {\r\n        off()\r\n        reject()\r\n      })\r\n    })\r\n    const off2 = () => {\r\n      off && off()\r\n    }\r\n    return {off: off2, promise}\r\n  }\r\n  off(name, handler) {\r\n    const indexes = [] // to remove indexes; reverse; 倒序的\r\n    const len = this.eventStore.length\r\n    for (let i = 0; i < len; i++) {\r\n      const item = this.eventStore[i]\r\n      if (item.name === name && item.handler === handler) {\r\n        indexes.unshift(i)\r\n      }\r\n    }\r\n    for (const index of indexes) {\r\n      this.eventStore.splice(index, 1)\r\n    }\r\n  }\r\n  emit(name, ...args) {\r\n    // 重要: 先找到要执行的项放在新数组里, 因为执行项会改变事件项存储数组\r\n    const items = []\r\n    for (const item of this.eventStore) {\r\n      if (item.name === name) {\r\n        items.push(item)\r\n      }\r\n    }\r\n    for (const item of items) {\r\n      item.handler(...args)\r\n    }\r\n  }\r\n}\r\n\r\nexport class CrossWindowEventProcessor extends EventProcessor{\r\n  storageName = '_crossWindow';\r\n  windows = [];\r\n  timeout = 200;\r\n  // id\r\n  constructor(opt) {\r\n     super()\r\n     if (opt) {\r\n       Object.assign(this, opt)\r\n     }\r\n     onDOM(window, 'storage', (ev) => {\r\n       if (ev.key === this.storageName) {\r\n         const event = JSON.parse(ev.newValue)\r\n         if (!event.targets || event.targets.includes(this.id)) {\r\n           this.emitLocal(event.name, ...event.args)\r\n         }\r\n       }\r\n     })\r\n     // social parts 集体部分\r\n     // join\r\n     this.id = strRand()\r\n     this.windows = [this.id]\r\n     this.ready = new Promise((resolve, reject) => {\r\n       this.onceTimeout('_windows_updated', ({windows}) => {\r\n         this.windows = windows\r\n       }, this.timeout).promise.then(() => {\r\n         resolve()\r\n         // responsed 被响应\r\n       }, () => {\r\n         // no response 无响应\r\n         resolve()\r\n       })\r\n       this.broadcast('_join', this.id)\r\n     })\r\n     this.ready.then(() => {\r\n       // on join\r\n       this.on('_join', (id) => {\r\n         this.windows.push(id)\r\n         if (this.isMain()) {\r\n           this.broadcast('_windows_updated', {windows: this.windows, type: 'join', id})\r\n         }\r\n       })\r\n       // on _windows_updated\r\n       this.on('_windows_updated', ({windows}) => {\r\n         this.windows = windows\r\n       })\r\n       // on exit\r\n       this.on('_exit', (id) => {\r\n         const oldMain = this.windows[0]\r\n         arrayRemove(this.windows, id)\r\n         if (this.isMain()) {\r\n           this.emit('_windows_updated', {windows: this.windows, type: 'exit', id})\r\n           if (oldMain != this.id) {\r\n             console.log('_main_updated');\r\n             this.emit('_main_updated', {windows: this.windows, old: oldMain, 'new': this.id})\r\n           }\r\n         }\r\n       })\r\n       onDOM(window, 'beforeunload', () => {\r\n         this.exitGroup()\r\n       })\r\n     })\r\n  }\r\n  isMain() {\r\n    return this.id === this.windows[0]\r\n  }\r\n  BROADCAST = '__BROADCAST__';\r\n  emitTo(name, targets, ...args) {\r\n    if (targets === this.BROADCAST) {\r\n      targets = null\r\n    } else {\r\n      if (targets && !isArray(targets)) {\r\n        targets = [targets]\r\n      }\r\n      if (targets.includes(this.id)) {\r\n        super.emit(name, ...args) // emit to current window\r\n      }\r\n    }\r\n    glb().localStorage.setItem(this.storageName, JSON.stringify({\r\n      name,\r\n      targets,\r\n      args,\r\n      // use random make storage event triggered every time\r\n      // 加入随机保证触发storage事件\r\n      random: Math.random(),\r\n    }))\r\n  }\r\n  emitLocal(name, ...args) {\r\n    this.emitTo(name, this.id, ...args)\r\n  }\r\n  broadcast(name, ...args) {\r\n    this.emitTo(name, this.BROADCAST, ...args)\r\n  }\r\n  emit(name, ...args) {\r\n    this.emitTo(name, this.windows, ...args)\r\n  }\r\n  exitGroup() {\r\n    this.broadcast('_exit', this.id)\r\n  }\r\n}\r\n// Deprecated in next version\r\nexport const CrossWindow = CrossWindowEventProcessor\r\n\r\nexport function onQuickKeydown(handler, opt={}) {\r\n  opt = {\r\n    timeout: 1000,\r\n    ...opt,\r\n  }\r\n  let input = ''\r\n  let timeoutId\r\n  const keydownHandler = (e) => {\r\n    if (e.key && e.key.length === 1) {\r\n      input = `${input}${e.key}`\r\n      handler(input)\r\n      if (timeoutId) {\r\n        clearTimeout(timeoutId)\r\n        timeoutId = null\r\n      }\r\n      setTimeout(() => {\r\n        input = ''\r\n      }, opt.timeout)\r\n    }\r\n  }\r\n  onDOM(document, 'keydown', keydownHandler)\r\n  return () => {\r\n    offDOM(document, 'keydown', keydownHandler)\r\n  }\r\n}\r\n\r\nexport function getUserLanguage() {\r\n  return navigator.language || navigator.userLanguage\r\n}\r\nexport class Cache {\r\n  store = {};\r\n  has(name) {\r\n    return this.store.hasOwnProperty(name)\r\n  }\r\n  remember(name, getter) {\r\n    if (!this.has(name)) {\r\n      this.store[name] = {\r\n        value: getter()\r\n      }\r\n    }\r\n    return this.store[name].value\r\n  }\r\n  forget(name) {\r\n    if (name) {\r\n      if (this.has(name)) {\r\n        delete this.store[name]\r\n      }\r\n    } else {\r\n      this.store = {}\r\n    }\r\n  }\r\n}\r\n\r\n// attach cached getters to an object; can attach to self\r\nexport function attachCache(obj, toCache, cache = new Cache()) {\r\n  for (const key in toCache) {\r\n    const getter = toCache[key]\r\n    Object.defineProperty(obj, key, {\r\n      get() {\r\n        return cache.remember(key, () => getter.call(this))\r\n      },\r\n    })\r\n  }\r\n}\r\n"],"names":["runtime","exports","undefined","Op","Object","prototype","hasOwn","hasOwnProperty","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","_invoke","state","GenStateSuspendedStart","method","arg","GenStateExecuting","Error","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","type","done","GenStateSuspendedYield","value","makeInvokeMethod","fn","obj","call","err","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","this","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","AsyncIterator","previousPromise","callInvokeWithMethodAndArg","Promise","resolve","reject","invoke","result","__await","then","unwrapped","error","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","length","i","constructor","displayName","isGeneratorFunction","genFun","ctor","name","mark","setPrototypeOf","__proto__","awrap","async","iter","toString","keys","object","key","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","module","regeneratorRuntime","accidentalStrictMode","Function","iterateALL","store","glb","t","global","e","window","isset","v","isArray","isBool","isNumber","isNumeric","isFinite","parseFloat","isString","isObject","isFunction","numRand","min","max","arguments","Math","floor","random","n","studlyCase","str","toUpperCase","substr","kebabCase","replace","toLowerCase","camelCase","temp","split","join","camelToWords","trim","strRand","len","prefix","r","seeds","arrayRemove","arr","index","count","indexOf","splice","arrayLast","toArrayIfNot","arrOrNot","splitArray","getChunkLength","times","end","val","opt","exclude","objectGet","path","throwError","paths","current","mapObjects","idKey","item","depthFirstSearch","handler","childrenKey","rootChildren","hp","StopException","func","children","parent","walkTreeData","debounceTrailing","action","delaying","lastArgs","wait","resolves","rejects","wrappedAction","args","setTimeout","_this","clearTimeout","debounceImmediate","_this2","getScroll","pageYOffset","top","left","pageXOffset","B","document","body","D","documentElement","clientHeight","scrollTop","scrollLeft","getOffset","el","rect","getBoundingClientRect","scroll","x","y","getOffsetParent","offsetParent","getComputedStyle","position","parentElement","xy","clientTop","bottom","clientLeft","right","width","height","getViewportPosition","findParent","callback","cur","withSelf","backupAttr","getAttribute","restoreAttr","setAttribute","hasClass","className","classList","contains","RegExp","test","getElSize","style","display","size","getElSizeEvenInvisible","onDOM","addEventListener","attachEvent","offDOM","removeEventListener","detachEvent","findNodeList","list","binarySearch","start","returnNearestIfNoHit","midNum","mid","hit","bigger","waitTime","milliseconds","openWindow","url","open","map","k","URLHelper","baseUrl","search","decodeURI","t2","_this3","decodeURIComponent","searchStr","encodeURIComponent","_this4","makeStorageHelper","storage","set","minutes","removeItem","setItem","JSON","stringify","expired_at","Date","getTime","get","getItem","parse","clear","EventProcessor","eventStore","off","_this5","wrappedHandler","on","timeout","promise","_this6","once","indexes","unshift","items","CrossWindowEventProcessor","storageName","windows","BROADCAST","assign","ev","_this7","event","newValue","targets","includes","id","emitLocal","ready","onceTimeout","broadcast","isMain","oldMain","emit","console","log","old","exitGroup","localStorage","emitTo","CrossWindow","Cache","getter","has","add","target","appendChild","arr1","arr2","Set","filter","a","endIndex","sortedIndexes","offset","toCache","cache","defineProperty","remember","_this9","cloneObj","text","navigator","clipboard","writeText","textArea","createElement","padding","border","outline","boxShadow","background","select","msg","execCommand","removeChild","htmlString","div","innerHTML","childNodes","immediate","elementsFromPoint","msElementsFromPoint","parents","elementFromPoint","pointerEvents","apply","scope","scope_executeOnceInScopeByName","storeResult","destroy","getters","stopped","concurrent","chunks","chunk","all","Number","isInteger","workArea","of","offsetWidth","offsetHeight","innerHeight","noCache","css3Prefix","cssText","webkitTransition","MozTransition","oTransition","msTransition","reget","image","src","localStorage2","rootData","margin","stl","ps","offsetLeft","offsetTop","parentOf","sessionStorage2","sessionStorage","par","local_url","location","href","get_par","nextPar","language","userLanguage","getMark","groups","Map","insertBefore","nextSibling","funcs","wrapFuncWithNext","wrappedFunc","join2func","func1","func2","result1","methods","simpleJoinedMethod","mode","sel","$","jQuery","each","css","wrapperSel","listSel","itemSel","speed","space","dir","match","spaceNumber","wrapper","find","items0","marginRight","ceil","list2","clone","list3","lists","append","animateLoop","animate","abs","limit","stack","shift","newParent","canPush","newVal","toDelete","skip","key2","mapping","newArr","num","o1","o2","lastKey","bodyOf","bodyVP","els","names","timeoutId","input","keydownHandler","screen","availHeight","availWidth","rows1","rows2","key1","row1","firstChild","rejected","remove","parentNode","mapObj","reg","matchedKey","types","argIndex","rule","dft","valueOrGetter","retry","limitTimes","counters","generateName","doFunc","arg1","arg2","arg3","data","child","childComponentIndex","nearestIndex","nearest","uniqueId","generatedIds","getElementById","prop","condition","time","maxCount","waitFor","waits","clearInterval","judge","interval","setInterval","getVal","oldVal","readyState"],"mappings":"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"}